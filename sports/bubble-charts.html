<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 23 Bubble charts | Sports Data Analysis and Visualization</title>
  <meta name="description" content="This book is the companion to the University of Nebraska-Lincoln’s SPMC350 course in the College of Journalism and Mass Communications." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 23 Bubble charts | Sports Data Analysis and Visualization" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book is the companion to the University of Nebraska-Lincoln’s SPMC350 course in the College of Journalism and Mass Communications." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 23 Bubble charts | Sports Data Analysis and Visualization" />
  
  <meta name="twitter:description" content="This book is the companion to the University of Nebraska-Lincoln’s SPMC350 course in the College of Journalism and Mass Communications." />
  

<meta name="author" content="By Matt Waite" />


<meta name="date" content="2019-07-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tables.html"/>
<link rel="next" href="circular-bar-plots.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-160712129-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-160712129-1');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Sports Data Analysis and Visualization</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Throwing cold water on hot takes</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#requirements-and-conventions"><i class="fa fa-check"></i><b>1.1</b> Requirements and Conventions</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i><b>1.2</b> About this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="the-very-basics.html"><a href="the-very-basics.html"><i class="fa fa-check"></i><b>2</b> The very basics</a><ul>
<li class="chapter" data-level="2.1" data-path="the-very-basics.html"><a href="the-very-basics.html#adding-libraries-part-1"><i class="fa fa-check"></i><b>2.1</b> Adding libraries, part 1</a></li>
<li class="chapter" data-level="2.2" data-path="the-very-basics.html"><a href="the-very-basics.html#adding-libraries-part-2"><i class="fa fa-check"></i><b>2.2</b> Adding libraries, part 2</a></li>
<li class="chapter" data-level="2.3" data-path="the-very-basics.html"><a href="the-very-basics.html#notebooks"><i class="fa fa-check"></i><b>2.3</b> Notebooks</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html"><i class="fa fa-check"></i><b>3</b> Data, structures and types</a><ul>
<li class="chapter" data-level="3.1" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html#rows-and-columns"><i class="fa fa-check"></i><b>3.1</b> Rows and columns</a></li>
<li class="chapter" data-level="3.2" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html#types"><i class="fa fa-check"></i><b>3.2</b> Types</a></li>
<li class="chapter" data-level="3.3" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html#a-simple-way-to-get-data"><i class="fa fa-check"></i><b>3.3</b> A simple way to get data</a></li>
<li class="chapter" data-level="3.4" data-path="data-structures-and-types.html"><a href="data-structures-and-types.html#cleaning-the-data"><i class="fa fa-check"></i><b>3.4</b> Cleaning the data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="aggregates.html"><a href="aggregates.html"><i class="fa fa-check"></i><b>4</b> Aggregates</a><ul>
<li class="chapter" data-level="4.1" data-path="aggregates.html"><a href="aggregates.html#basic-data-analysis-group-by-and-count"><i class="fa fa-check"></i><b>4.1</b> Basic data analysis: Group By and Count</a></li>
<li class="chapter" data-level="4.2" data-path="aggregates.html"><a href="aggregates.html#other-aggregates-mean-and-median"><i class="fa fa-check"></i><b>4.2</b> Other aggregates: Mean and median</a></li>
<li class="chapter" data-level="4.3" data-path="aggregates.html"><a href="aggregates.html#even-more-aggregates"><i class="fa fa-check"></i><b>4.3</b> Even more aggregates</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="mutating-data.html"><a href="mutating-data.html"><i class="fa fa-check"></i><b>5</b> Mutating data</a><ul>
<li class="chapter" data-level="5.1" data-path="mutating-data.html"><a href="mutating-data.html#a-more-complex-example"><i class="fa fa-check"></i><b>5.1</b> A more complex example</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="filters-and-selections.html"><a href="filters-and-selections.html"><i class="fa fa-check"></i><b>6</b> Filters and selections</a><ul>
<li class="chapter" data-level="6.1" data-path="filters-and-selections.html"><a href="filters-and-selections.html#selecting-data-to-make-it-easier-to-read"><i class="fa fa-check"></i><b>6.1</b> Selecting data to make it easier to read</a></li>
<li class="chapter" data-level="6.2" data-path="filters-and-selections.html"><a href="filters-and-selections.html#using-conditional-filters-to-set-limits"><i class="fa fa-check"></i><b>6.2</b> Using conditional filters to set limits</a></li>
<li class="chapter" data-level="6.3" data-path="filters-and-selections.html"><a href="filters-and-selections.html#top-list"><i class="fa fa-check"></i><b>6.3</b> Top list</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="transforming-data.html"><a href="transforming-data.html"><i class="fa fa-check"></i><b>7</b> Transforming data</a><ul>
<li class="chapter" data-level="7.1" data-path="transforming-data.html"><a href="transforming-data.html#making-long-data-wide"><i class="fa fa-check"></i><b>7.1</b> Making long data wide</a></li>
<li class="chapter" data-level="7.2" data-path="transforming-data.html"><a href="transforming-data.html#why-this-matters"><i class="fa fa-check"></i><b>7.2</b> Why this matters</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="significance-tests.html"><a href="significance-tests.html"><i class="fa fa-check"></i><b>8</b> Significance tests</a><ul>
<li class="chapter" data-level="8.1" data-path="significance-tests.html"><a href="significance-tests.html#accepting-the-null-hypothesis"><i class="fa fa-check"></i><b>8.1</b> Accepting the null hypothesis</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="correlations-and-regression.html"><a href="correlations-and-regression.html"><i class="fa fa-check"></i><b>9</b> Correlations and regression</a><ul>
<li class="chapter" data-level="9.1" data-path="correlations-and-regression.html"><a href="correlations-and-regression.html#a-more-predictive-example"><i class="fa fa-check"></i><b>9.1</b> A more predictive example</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="multiple-regression.html"><a href="multiple-regression.html"><i class="fa fa-check"></i><b>10</b> Multiple regression</a></li>
<li class="chapter" data-level="11" data-path="residuals.html"><a href="residuals.html"><i class="fa fa-check"></i><b>11</b> Residuals</a><ul>
<li class="chapter" data-level="11.1" data-path="residuals.html"><a href="residuals.html#penalties"><i class="fa fa-check"></i><b>11.1</b> Penalties</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="z-scores.html"><a href="z-scores.html"><i class="fa fa-check"></i><b>12</b> Z scores</a><ul>
<li class="chapter" data-level="12.1" data-path="z-scores.html"><a href="z-scores.html#calculating-a-z-score-in-r"><i class="fa fa-check"></i><b>12.1</b> Calculating a Z score in R</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="intro-to-ggplot.html"><a href="intro-to-ggplot.html"><i class="fa fa-check"></i><b>13</b> Intro to ggplot</a><ul>
<li class="chapter" data-level="13.1" data-path="intro-to-ggplot.html"><a href="intro-to-ggplot.html#the-bar-chart"><i class="fa fa-check"></i><b>13.1</b> The bar chart</a></li>
<li class="chapter" data-level="13.2" data-path="intro-to-ggplot.html"><a href="intro-to-ggplot.html#scales"><i class="fa fa-check"></i><b>13.2</b> Scales</a></li>
<li class="chapter" data-level="13.3" data-path="intro-to-ggplot.html"><a href="intro-to-ggplot.html#styling"><i class="fa fa-check"></i><b>13.3</b> Styling</a></li>
<li class="chapter" data-level="13.4" data-path="intro-to-ggplot.html"><a href="intro-to-ggplot.html#one-last-trick-coord-flip"><i class="fa fa-check"></i><b>13.4</b> One last trick: coord flip</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="stacked-bar-charts.html"><a href="stacked-bar-charts.html"><i class="fa fa-check"></i><b>14</b> Stacked bar charts</a></li>
<li class="chapter" data-level="15" data-path="waffle-charts.html"><a href="waffle-charts.html"><i class="fa fa-check"></i><b>15</b> Waffle charts</a><ul>
<li class="chapter" data-level="15.1" data-path="waffle-charts.html"><a href="waffle-charts.html#waffle-irons"><i class="fa fa-check"></i><b>15.1</b> Waffle Irons</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="line-charts.html"><a href="line-charts.html"><i class="fa fa-check"></i><b>16</b> Line charts</a><ul>
<li class="chapter" data-level="16.1" data-path="line-charts.html"><a href="line-charts.html#this-is-too-simple."><i class="fa fa-check"></i><b>16.1</b> This is too simple.</a></li>
<li class="chapter" data-level="16.2" data-path="line-charts.html"><a href="line-charts.html#but-what-if-i-wanted-to-add-a-lot-of-lines."><i class="fa fa-check"></i><b>16.2</b> But what if I wanted to add a lot of lines.</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="step-charts.html"><a href="step-charts.html"><i class="fa fa-check"></i><b>17</b> Step charts</a></li>
<li class="chapter" data-level="18" data-path="ridge-charts.html"><a href="ridge-charts.html"><i class="fa fa-check"></i><b>18</b> Ridge charts</a></li>
<li class="chapter" data-level="19" data-path="lollipop-charts.html"><a href="lollipop-charts.html"><i class="fa fa-check"></i><b>19</b> Lollipop charts</a></li>
<li class="chapter" data-level="20" data-path="scatterplots.html"><a href="scatterplots.html"><i class="fa fa-check"></i><b>20</b> Scatterplots</a></li>
<li class="chapter" data-level="21" data-path="facet-wraps.html"><a href="facet-wraps.html"><i class="fa fa-check"></i><b>21</b> Facet wraps</a><ul>
<li class="chapter" data-level="21.1" data-path="facet-wraps.html"><a href="facet-wraps.html#facet-grid-vs-facet-wraps"><i class="fa fa-check"></i><b>21.1</b> Facet grid vs facet wraps</a></li>
<li class="chapter" data-level="21.2" data-path="facet-wraps.html"><a href="facet-wraps.html#other-types"><i class="fa fa-check"></i><b>21.2</b> Other types</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="tables.html"><a href="tables.html"><i class="fa fa-check"></i><b>22</b> Tables</a><ul>
<li class="chapter" data-level="22.1" data-path="tables.html"><a href="tables.html#exporting-tables"><i class="fa fa-check"></i><b>22.1</b> Exporting tables</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="bubble-charts.html"><a href="bubble-charts.html"><i class="fa fa-check"></i><b>23</b> Bubble charts</a></li>
<li class="chapter" data-level="24" data-path="circular-bar-plots.html"><a href="circular-bar-plots.html"><i class="fa fa-check"></i><b>24</b> Circular bar plots</a></li>
<li class="chapter" data-level="25" data-path="intro-to-rvest.html"><a href="intro-to-rvest.html"><i class="fa fa-check"></i><b>25</b> Intro to rvest</a><ul>
<li class="chapter" data-level="25.1" data-path="intro-to-rvest.html"><a href="intro-to-rvest.html#a-slightly-more-complicated-example"><i class="fa fa-check"></i><b>25.1</b> A slightly more complicated example</a></li>
<li class="chapter" data-level="25.2" data-path="intro-to-rvest.html"><a href="intro-to-rvest.html#an-even-more-complicated-example"><i class="fa fa-check"></i><b>25.2</b> An even more complicated example</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="advanced-rvest.html"><a href="advanced-rvest.html"><i class="fa fa-check"></i><b>26</b> Advanced rvest</a><ul>
<li class="chapter" data-level="26.1" data-path="advanced-rvest.html"><a href="advanced-rvest.html#one-last-bit"><i class="fa fa-check"></i><b>26.1</b> One last bit</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="annotations.html"><a href="annotations.html"><i class="fa fa-check"></i><b>27</b> Annotations</a></li>
<li class="chapter" data-level="28" data-path="finishing-touches-part-1.html"><a href="finishing-touches-part-1.html"><i class="fa fa-check"></i><b>28</b> Finishing touches, part 1</a><ul>
<li class="chapter" data-level="28.1" data-path="finishing-touches-part-1.html"><a href="finishing-touches-part-1.html#graphics-vs-visual-stories"><i class="fa fa-check"></i><b>28.1</b> Graphics vs visual stories</a></li>
<li class="chapter" data-level="28.2" data-path="finishing-touches-part-1.html"><a href="finishing-touches-part-1.html#getting-ggplot-closer-to-output"><i class="fa fa-check"></i><b>28.2</b> Getting ggplot closer to output</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="finishing-touches-2.html"><a href="finishing-touches-2.html"><i class="fa fa-check"></i><b>29</b> Finishing Touches 2</a></li>
<li class="chapter" data-level="30" data-path="plotly.html"><a href="plotly.html"><i class="fa fa-check"></i><b>30</b> Plotly</a><ul>
<li class="chapter" data-level="30.1" data-path="plotly.html"><a href="plotly.html#publishing-using-plotly"><i class="fa fa-check"></i><b>30.1</b> Publishing using Plotly</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="clustering.html"><a href="clustering.html"><i class="fa fa-check"></i><b>31</b> Clustering</a><ul>
<li class="chapter" data-level="31.1" data-path="clustering.html"><a href="clustering.html#advanced-metrics"><i class="fa fa-check"></i><b>31.1</b> Advanced metrics</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html"><i class="fa fa-check"></i><b>32</b> Rtweet and Text Analysis</a><ul>
<li class="chapter" data-level="32.1" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#prerequisites"><i class="fa fa-check"></i><b>32.1</b> Prerequisites</a><ul>
<li class="chapter" data-level="32.1.1" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#tools-for-text-analysis"><i class="fa fa-check"></i><b>32.1.1</b> Tools for text analysis</a></li>
<li class="chapter" data-level="32.1.2" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#working-with-string-data"><i class="fa fa-check"></i><b>32.1.2</b> Working with string data</a></li>
</ul></li>
<li class="chapter" data-level="32.2" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#verifying-your-account-to-access-twitter-data"><i class="fa fa-check"></i><b>32.2</b> Verifying your account to access Twitter data</a></li>
<li class="chapter" data-level="32.3" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#the-data-used-here"><i class="fa fa-check"></i><b>32.3</b> The data used here</a></li>
<li class="chapter" data-level="32.4" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#data-exploration"><i class="fa fa-check"></i><b>32.4</b> Data Exploration</a></li>
<li class="chapter" data-level="32.5" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#cleaning-data-for-analysis"><i class="fa fa-check"></i><b>32.5</b> Cleaning data for analysis</a><ul>
<li class="chapter" data-level="32.5.1" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#fixing-the-date-and-focusing-only-on-game-tweets"><i class="fa fa-check"></i><b>32.5.1</b> Fixing the date and focusing only on game tweets</a></li>
</ul></li>
<li class="chapter" data-level="32.6" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#number-of-tweets-throughout-the-game"><i class="fa fa-check"></i><b>32.6</b> Number of tweets throughout the game</a></li>
<li class="chapter" data-level="32.7" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#tidying-the-text-data-for-analysis-applying-the-sentiment-scores"><i class="fa fa-check"></i><b>32.7</b> Tidying the text data for analysis, applying the sentiment scores</a><ul>
<li class="chapter" data-level="32.7.1" data-path="rtweet-and-text-analysis.html"><a href="rtweet-and-text-analysis.html#example-2---nebraskas-loss-to-purdue-what-were-fans-sentiments-towards-this-loss"><i class="fa fa-check"></i><b>32.7.1</b> Example 2 - Nebraska’s loss to Purdue, what were fan’s sentiments towards this loss?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="33" data-path="arranging-multiple-plots-together.html"><a href="arranging-multiple-plots-together.html"><i class="fa fa-check"></i><b>33</b> Arranging multiple plots together</a></li>
<li class="chapter" data-level="34" data-path="encircling-points-on-a-scatterplot.html"><a href="encircling-points-on-a-scatterplot.html"><i class="fa fa-check"></i><b>34</b> Encircling points on a scatterplot</a><ul>
<li class="chapter" data-level="34.1" data-path="encircling-points-on-a-scatterplot.html"><a href="encircling-points-on-a-scatterplot.html#a-different-more-local-example"><i class="fa fa-check"></i><b>34.1</b> A different, more local example</a></li>
</ul></li>
<li class="chapter" data-level="35" data-path="bump-charts.html"><a href="bump-charts.html"><i class="fa fa-check"></i><b>35</b> Bump charts</a></li>
<li class="chapter" data-level="36" data-path="text-cleaning.html"><a href="text-cleaning.html"><i class="fa fa-check"></i><b>36</b> Text cleaning</a><ul>
<li class="chapter" data-level="36.1" data-path="text-cleaning.html"><a href="text-cleaning.html#stripping-out-text"><i class="fa fa-check"></i><b>36.1</b> Stripping out text</a></li>
<li class="chapter" data-level="36.2" data-path="text-cleaning.html"><a href="text-cleaning.html#another-example-splitting-columns"><i class="fa fa-check"></i><b>36.2</b> Another example: splitting columns</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="assignments.html"><a href="assignments.html"><i class="fa fa-check"></i><b>37</b> Assignments</a></li>
<li class="chapter" data-level="38" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>38</b> Appendix</a><ul>
<li class="chapter" data-level="38.1" data-path="appendix.html"><a href="appendix.html#how-to-get-help-in-this-class"><i class="fa fa-check"></i><b>38.1</b> How to get help in this class</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="simulations.html"><a href="simulations.html"><i class="fa fa-check"></i><b>39</b> Simulations</a><ul>
<li class="chapter" data-level="39.1" data-path="simulations.html"><a href="simulations.html#cold-streaks"><i class="fa fa-check"></i><b>39.1</b> Cold streaks</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sports Data Analysis and Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bubble-charts" class="section level1">
<h1><span class="header-section-number">Chapter 23</span> Bubble charts</h1>
<p>Here is the real talk: Bubble charts are hard. The reason they are hard is not because of the code, or the complexity or anything like that. They’re a scatterplot with magnitude added – the size of the dot in the scatterplot has meaning. The hard part is seeing when a bubble chart works and when it doesn’t.</p>
<p>If you want to see it work spectacularly well, <a href="https://www.youtube.com/watch?v=hVimVzgtD6w">watch a semi-famous Ted Talk</a> by Hans Rosling from 2006 where bubble charts were the centerpiece. It’s worth watching. It’ll change your perspective on the world. No seriously. It will.</p>
<p>And since then, people have wanted bubble charts. And we’re back to the original problem: They’re hard. There’s a finite set of circumstances where they work.</p>
<p>First, I’m going to show you an example of them not working to illustrate the point.</p>
<p>I’m going to load up my libraries: tidyverse per usual, rvest to get some data (we’ll discuss rvest in greater detail in an upcoming chapter) and ggrepel because I end up using it every time I do a scatterplot.</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="bubble-charts.html#cb341-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb341-2"><a href="bubble-charts.html#cb341-2"></a><span class="kw">library</span>(rvest)</span></code></pre></div>
<pre><code>## Loading required package: xml2</code></pre>
<pre><code>## 
## Attaching package: &#39;rvest&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:Hmisc&#39;:
## 
##     html</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     pluck</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     guess_encoding</code></pre>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="bubble-charts.html#cb347-1"></a><span class="kw">library</span>(ggrepel)</span></code></pre></div>
<p>So for this example, I want to look at Nebraska’s offense in the 2019 season. It … hasn’t gone well. And typical of Nebraska teams for the last decade, they’re turning the ball over a lot. So given the number of turnovers, how does Nebraska compare to other teams in the FBS?</p>
<p>I’m going to create a scatterplot yards per game on the X axis and points per game on the Y. They’re pretty highly correlated with each other. And then I’m going to make the dot the size of the turnovers – the bubble in my bubble charts.</p>
<p>Using Rvest, I’m going to grab total offense rankings, scoring offense rankings and turnover rankings and then merge them together with just the fields I need. This will all get explained more thoroughly coming up, but that’s what this block of code does. When it’s done, I’ll have a dataframe called <code>offense</code> which I’ll use to build my bubble chart.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="bubble-charts.html#cb348-1"></a>yardsurl &lt;-<span class="st"> &quot;http://cfbstats.com/2019/leader/national/team/offense/split01/category10/sort01.html&quot;</span></span>
<span id="cb348-2"><a href="bubble-charts.html#cb348-2"></a></span>
<span id="cb348-3"><a href="bubble-charts.html#cb348-3"></a>yards19 &lt;-<span class="st"> </span>yardsurl <span class="op">%&gt;%</span></span>
<span id="cb348-4"><a href="bubble-charts.html#cb348-4"></a><span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></span>
<span id="cb348-5"><a href="bubble-charts.html#cb348-5"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&#39;//*[@id=&quot;content&quot;]/div[2]/table&#39;</span>) <span class="op">%&gt;%</span></span>
<span id="cb348-6"><a href="bubble-charts.html#cb348-6"></a><span class="st">  </span><span class="kw">html_table</span>()</span>
<span id="cb348-7"><a href="bubble-charts.html#cb348-7"></a></span>
<span id="cb348-8"><a href="bubble-charts.html#cb348-8"></a>yards19 &lt;-<span class="st"> </span>yards19[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(Name, <span class="st">`</span><span class="dt">Yards/G</span><span class="st">`</span>)</span>
<span id="cb348-9"><a href="bubble-charts.html#cb348-9"></a></span>
<span id="cb348-10"><a href="bubble-charts.html#cb348-10"></a>pointsurl &lt;-<span class="st"> &quot;http://cfbstats.com/2019/leader/national/team/offense/split01/category09/sort01.html&quot;</span></span>
<span id="cb348-11"><a href="bubble-charts.html#cb348-11"></a></span>
<span id="cb348-12"><a href="bubble-charts.html#cb348-12"></a>points19 &lt;-<span class="st"> </span>pointsurl <span class="op">%&gt;%</span></span>
<span id="cb348-13"><a href="bubble-charts.html#cb348-13"></a><span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></span>
<span id="cb348-14"><a href="bubble-charts.html#cb348-14"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&#39;//*[@id=&quot;content&quot;]/div[2]/table&#39;</span>) <span class="op">%&gt;%</span></span>
<span id="cb348-15"><a href="bubble-charts.html#cb348-15"></a><span class="st">  </span><span class="kw">html_table</span>()</span>
<span id="cb348-16"><a href="bubble-charts.html#cb348-16"></a></span>
<span id="cb348-17"><a href="bubble-charts.html#cb348-17"></a>points19 &lt;-<span class="st"> </span>points19[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(Name, <span class="st">`</span><span class="dt">Points/G</span><span class="st">`</span>)</span>
<span id="cb348-18"><a href="bubble-charts.html#cb348-18"></a></span>
<span id="cb348-19"><a href="bubble-charts.html#cb348-19"></a>turnoversurl &lt;-<span class="st"> &quot;http://cfbstats.com/2019/leader/national/team/offense/split01/category12/sort01.html&quot;</span></span>
<span id="cb348-20"><a href="bubble-charts.html#cb348-20"></a></span>
<span id="cb348-21"><a href="bubble-charts.html#cb348-21"></a>turnovers19 &lt;-<span class="st"> </span>turnoversurl <span class="op">%&gt;%</span></span>
<span id="cb348-22"><a href="bubble-charts.html#cb348-22"></a><span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></span>
<span id="cb348-23"><a href="bubble-charts.html#cb348-23"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&#39;//*[@id=&quot;content&quot;]/div[2]/table&#39;</span>) <span class="op">%&gt;%</span></span>
<span id="cb348-24"><a href="bubble-charts.html#cb348-24"></a><span class="st">  </span><span class="kw">html_table</span>()</span>
<span id="cb348-25"><a href="bubble-charts.html#cb348-25"></a></span>
<span id="cb348-26"><a href="bubble-charts.html#cb348-26"></a>turnovers19 &lt;-<span class="st"> </span>turnovers19[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(Name, <span class="st">`</span><span class="dt">Total Lost</span><span class="st">`</span>)</span>
<span id="cb348-27"><a href="bubble-charts.html#cb348-27"></a></span>
<span id="cb348-28"><a href="bubble-charts.html#cb348-28"></a></span>
<span id="cb348-29"><a href="bubble-charts.html#cb348-29"></a>offense &lt;-<span class="st"> </span>yards19 <span class="op">%&gt;%</span></span>
<span id="cb348-30"><a href="bubble-charts.html#cb348-30"></a><span class="st">  </span><span class="kw">left_join</span>(points19, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Name&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb348-31"><a href="bubble-charts.html#cb348-31"></a><span class="st">  </span><span class="kw">left_join</span>(turnovers19, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Name&quot;</span>))</span></code></pre></div>
<p>A bubble chart is just a scatterplot with one additional element in the aesthetic – a size. Here’s the scatterplot version.</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="bubble-charts.html#cb349-1"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data=</span>offense, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Yards/G</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Points/G</span><span class="st">`</span>))</span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-206-1.png" width="672" /></p>
<p>As expected, yards per game pretty tightly predicts points per game, but you could have guessed that without a chart. So let’s add the size element.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="bubble-charts.html#cb350-1"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data=</span>offense, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Yards/G</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Points/G</span><span class="st">`</span>, <span class="dt">size=</span><span class="st">`</span><span class="dt">Total Lost</span><span class="st">`</span>)) </span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-207-1.png" width="672" /></p>
<p>Eh. What does this chart tell you? Trick question, there’s not much new here. The dots are too big. Also, we can’t see when they overlap. We can fix that by adding an alpha element outside the aesthetic – alpha in this case is transparency – and we can manually change the size of the dots by adding <code>scale_size</code> and a <code>range</code>.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="bubble-charts.html#cb351-1"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data=</span>offense, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Yards/G</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Points/G</span><span class="st">`</span>, <span class="dt">size=</span><span class="st">`</span><span class="dt">Total Lost</span><span class="st">`</span>), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(.<span class="dv">1</span>, <span class="dv">15</span>), <span class="dt">name=</span><span class="st">&quot;Turnovers&quot;</span>)</span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-208-1.png" width="672" /></p>
<p>Before we do any more work, let’s return to the earlier question: What story does this tell? Can you discern a story from the bubbles? Are teams with lots of turnovers doing poorly and teams with few turnovers doing well? The problem is, you can’t really tell. So this is a dead end for a bubble chart. If you get a big mess, it’s a dead giveaway that you probably don’t have a bubble chart.</p>
<p>So let’s look at something else. Let’s look at something that isn’t directly correlated – we’ll look at offensive points per game vs defensive points per game.</p>
<p>I’m going to edit the same rvest code to grab those points per game stats and merge it all together. When it’s done, I’ll have a dataframe called <code>football</code> and we can look at where good teams fall on the chart with turnover margin as a scaled dot.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="bubble-charts.html#cb352-1"></a>ourl &lt;-<span class="st"> &quot;http://cfbstats.com/2019/leader/national/team/offense/split01/category09/sort01.html&quot;</span></span>
<span id="cb352-2"><a href="bubble-charts.html#cb352-2"></a></span>
<span id="cb352-3"><a href="bubble-charts.html#cb352-3"></a>o19 &lt;-<span class="st"> </span>ourl <span class="op">%&gt;%</span></span>
<span id="cb352-4"><a href="bubble-charts.html#cb352-4"></a><span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></span>
<span id="cb352-5"><a href="bubble-charts.html#cb352-5"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&#39;//*[@id=&quot;content&quot;]/div[2]/table&#39;</span>) <span class="op">%&gt;%</span></span>
<span id="cb352-6"><a href="bubble-charts.html#cb352-6"></a><span class="st">  </span><span class="kw">html_table</span>()</span>
<span id="cb352-7"><a href="bubble-charts.html#cb352-7"></a></span>
<span id="cb352-8"><a href="bubble-charts.html#cb352-8"></a>o19 &lt;-<span class="st"> </span>o19[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(Name, <span class="st">`</span><span class="dt">Points/G</span><span class="st">`</span>)</span>
<span id="cb352-9"><a href="bubble-charts.html#cb352-9"></a></span>
<span id="cb352-10"><a href="bubble-charts.html#cb352-10"></a>durl &lt;-<span class="st"> &quot;http://cfbstats.com/2019/leader/national/team/defense/split01/category09/sort01.html&quot;</span></span>
<span id="cb352-11"><a href="bubble-charts.html#cb352-11"></a></span>
<span id="cb352-12"><a href="bubble-charts.html#cb352-12"></a>d19 &lt;-<span class="st"> </span>durl <span class="op">%&gt;%</span></span>
<span id="cb352-13"><a href="bubble-charts.html#cb352-13"></a><span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></span>
<span id="cb352-14"><a href="bubble-charts.html#cb352-14"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&#39;//*[@id=&quot;content&quot;]/div[2]/table&#39;</span>) <span class="op">%&gt;%</span></span>
<span id="cb352-15"><a href="bubble-charts.html#cb352-15"></a><span class="st">  </span><span class="kw">html_table</span>()</span>
<span id="cb352-16"><a href="bubble-charts.html#cb352-16"></a></span>
<span id="cb352-17"><a href="bubble-charts.html#cb352-17"></a>d19 &lt;-<span class="st"> </span>d19[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(Name, <span class="st">`</span><span class="dt">Points/G</span><span class="st">`</span>)</span>
<span id="cb352-18"><a href="bubble-charts.html#cb352-18"></a></span>
<span id="cb352-19"><a href="bubble-charts.html#cb352-19"></a>turnoversurl &lt;-<span class="st"> &quot;http://cfbstats.com/2019/leader/national/team/offense/split01/category12/sort01.html&quot;</span></span>
<span id="cb352-20"><a href="bubble-charts.html#cb352-20"></a></span>
<span id="cb352-21"><a href="bubble-charts.html#cb352-21"></a>turnovers19 &lt;-<span class="st"> </span>turnoversurl <span class="op">%&gt;%</span></span>
<span id="cb352-22"><a href="bubble-charts.html#cb352-22"></a><span class="st">  </span><span class="kw">read_html</span>() <span class="op">%&gt;%</span></span>
<span id="cb352-23"><a href="bubble-charts.html#cb352-23"></a><span class="st">  </span><span class="kw">html_nodes</span>(<span class="dt">xpath =</span> <span class="st">&#39;//*[@id=&quot;content&quot;]/div[2]/table&#39;</span>) <span class="op">%&gt;%</span></span>
<span id="cb352-24"><a href="bubble-charts.html#cb352-24"></a><span class="st">  </span><span class="kw">html_table</span>()</span>
<span id="cb352-25"><a href="bubble-charts.html#cb352-25"></a></span>
<span id="cb352-26"><a href="bubble-charts.html#cb352-26"></a>turnovers19 &lt;-<span class="st"> </span>turnovers19[[<span class="dv">1</span>]] <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">select</span>(Name, Margin)</span>
<span id="cb352-27"><a href="bubble-charts.html#cb352-27"></a></span>
<span id="cb352-28"><a href="bubble-charts.html#cb352-28"></a>football &lt;-<span class="st"> </span>o19 <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb352-29"><a href="bubble-charts.html#cb352-29"></a><span class="st">  </span><span class="kw">left_join</span>(d19, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Name&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb352-30"><a href="bubble-charts.html#cb352-30"></a><span class="st">  </span><span class="kw">left_join</span>(turnovers19, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;Name&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb352-31"><a href="bubble-charts.html#cb352-31"></a><span class="st">  </span><span class="kw">rename</span>(<span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span> =<span class="st"> `</span><span class="dt">Points/G.x</span><span class="st">`</span>, <span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>=<span class="st">`</span><span class="dt">Points/G.y</span><span class="st">`</span>)</span></code></pre></div>
<p>Now we can do the bubble chart.</p>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="bubble-charts.html#cb353-1"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data=</span>football, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">size=</span>Margin), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="dt">name=</span><span class="st">&quot;Turnovers&quot;</span>)</span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-210-1.png" width="672" /></p>
<p>Better! Teams are spread out a little more. Bottom right quadrant – the good defense, good offense quadrant – have some large dots. The upper left quadrant – bad defense, bad offense – have some very small dots, meaning they have a really terrible turnover margin.</p>
<p>But what would make this chart better – and what you saw in the Rosling video – is color. What if we colored the dots by if they were above or below zero? Meaning, do they have a positive or negative turnover margin? We can do that with a quick mutate and a case_when statement.</p>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="bubble-charts.html#cb354-1"></a>football &lt;-<span class="st"> </span>football <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">PositiveNegative =</span> <span class="kw">case_when</span>(</span>
<span id="cb354-2"><a href="bubble-charts.html#cb354-2"></a>  Margin <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> &quot;Positive&quot;</span>,</span>
<span id="cb354-3"><a href="bubble-charts.html#cb354-3"></a>  Margin <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> &quot;Negative&quot;</span>,</span>
<span id="cb354-4"><a href="bubble-charts.html#cb354-4"></a>  Margin <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">~</span><span class="st"> &quot;Even&quot;</span></span>
<span id="cb354-5"><a href="bubble-charts.html#cb354-5"></a>))</span></code></pre></div>
<p>Now we can add <code>color=PositiveNegative</code> to the aesthetic and our dots will be colored by if they are positive, negative or zero.</p>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="bubble-charts.html#cb355-1"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="dt">data=</span>football, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">size=</span>Margin, <span class="dt">color=</span>PositiveNegative), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="dt">name=</span><span class="st">&quot;Turnovers&quot;</span>)</span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-212-1.png" width="672" /></p>
<p>Now we’re getting somewhere. What’s the story that this chart tells? Blue dots – positive turnover margins – are all drifting toward that good offense, good defense quadrant. Green dots – negative turnover margins – are drifting toward that bad defense, bad offense quadrant.</p>
<p>Let’s add some annotations. Let’s look at the top two turnover margin teams and where they come out.</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="bubble-charts.html#cb356-1"></a>topteams &lt;-<span class="st"> </span>football <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Name <span class="op">==</span><span class="st"> &quot;LSU&quot;</span> <span class="op">|</span><span class="st"> </span>Name <span class="op">==</span><span class="st"> &quot;Alabama&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="bubble-charts.html#cb357-1"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb357-2"><a href="bubble-charts.html#cb357-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data=</span>football, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">size=</span>Margin, <span class="dt">color=</span>PositiveNegative), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb357-3"><a href="bubble-charts.html#cb357-3"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data=</span>topteams, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">label=</span>Name)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb357-4"><a href="bubble-charts.html#cb357-4"></a><span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="dt">name=</span><span class="st">&quot;Turnovers&quot;</span>)</span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-214-1.png" width="672" /></p>
<p>No surprise there. What about Nebraska?</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="bubble-charts.html#cb358-1"></a>nu &lt;-<span class="st"> </span>football <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(Name<span class="op">==</span><span class="st">&quot;Nebraska&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb359-1"><a href="bubble-charts.html#cb359-1"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb359-2"><a href="bubble-charts.html#cb359-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data=</span>football, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">size=</span>Margin, <span class="dt">color=</span>PositiveNegative), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb359-3"><a href="bubble-charts.html#cb359-3"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data=</span>topteams, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">label=</span>Name)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb359-4"><a href="bubble-charts.html#cb359-4"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data=</span>nu, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">size=</span>Margin), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb359-5"><a href="bubble-charts.html#cb359-5"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data=</span>nu, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">label=</span>Name)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb359-6"><a href="bubble-charts.html#cb359-6"></a><span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="dt">name=</span><span class="st">&quot;Turnovers&quot;</span>)</span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-216-1.png" width="672" /></p>
<p>Sadly, no surprise there either.</p>
<p>The last things we need to do? Add some labels, apply our finishing touches.</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="bubble-charts.html#cb360-1"></a><span class="kw">ggplot</span>() <span class="op">+</span></span>
<span id="cb360-2"><a href="bubble-charts.html#cb360-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data=</span>football, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">size=</span>Margin, <span class="dt">color=</span>PositiveNegative), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb360-3"><a href="bubble-charts.html#cb360-3"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data=</span>topteams, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">label=</span>Name)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb360-4"><a href="bubble-charts.html#cb360-4"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data=</span>nu, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">size=</span>Margin), <span class="dt">alpha=</span>.<span class="dv">2</span>) <span class="op">+</span></span>
<span id="cb360-5"><a href="bubble-charts.html#cb360-5"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data=</span>nu, <span class="kw">aes</span>(<span class="dt">x=</span><span class="st">`</span><span class="dt">Offensive Points Per Game</span><span class="st">`</span>, <span class="dt">y=</span><span class="st">`</span><span class="dt">Defensive Points Per Game</span><span class="st">`</span>, <span class="dt">label=</span>Name)) <span class="op">+</span></span>
<span id="cb360-6"><a href="bubble-charts.html#cb360-6"></a><span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">6</span>), <span class="dt">name=</span><span class="st">&quot;Turnovers&quot;</span>) <span class="op">+</span></span>
<span id="cb360-7"><a href="bubble-charts.html#cb360-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">&quot;Same song, different year&quot;</span>, <span class="dt">subtitle=</span><span class="st">&quot;The Husker&#39;s turnover margin is zero, putting them miles from the top.&quot;</span>, <span class="dt">caption=</span><span class="st">&quot;Source: NCAA | By Matt Waite&quot;</span>)  <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb360-8"><a href="bubble-charts.html#cb360-8"></a><span class="st">  </span><span class="kw">theme</span>(</span>
<span id="cb360-9"><a href="bubble-charts.html#cb360-9"></a>    <span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">16</span>, <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb360-10"><a href="bubble-charts.html#cb360-10"></a>    <span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">8</span>), </span>
<span id="cb360-11"><a href="bubble-charts.html#cb360-11"></a>    <span class="dt">plot.subtitle =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">10</span>), </span>
<span id="cb360-12"><a href="bubble-charts.html#cb360-12"></a>    <span class="dt">panel.grid.minor =</span> <span class="kw">element_blank</span>()</span>
<span id="cb360-13"><a href="bubble-charts.html#cb360-13"></a>    )</span></code></pre></div>
<p><img src="SportsData_files/figure-html/unnamed-chunk-217-1.png" width="672" /></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="tables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="circular-bar-plots.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["SportsData.pdf", "SportsData.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
