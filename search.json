[
  {
    "objectID": "posts/is-nebraska-the-best-worst-basketball-team/index.html",
    "href": "posts/is-nebraska-the-best-worst-basketball-team/index.html",
    "title": "Is Nebraska the best worst team in college basketball?",
    "section": "",
    "text": "But anyone watching Nebraska basketball this season could see there was a difference between last season’s squad and this one. And given that the Big Ten was rated as the best conference in college basketball during the season, it begs the question: Is Nebraska that bad?\nIn fact, are they the best worst team in college basketball?\nLet’s take a look at some numbers.\n\n\nCode\nlibrary(tidyverse)\nlibrary(ggalt)\nlibrary(gt)\nlibrary(ggbeeswarm)\nlibrary(ggrepel)\n\nstats <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/stats21.csv\")\ngames <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/logs21.csv\")\n\n\nSports Reference’s college basketball site produces a Simple Rating System and Strength of Schedule number for each team. The SRS is a mix of average point differential and strength of schedule. Given that, a team with a losing record could have a positive rating if they lose games close but play good teams.\nLike, say, Nebraska.\n\n\nCode\nstats <- games %>% \n  select(Team, Conference) %>% \n  distinct() %>% \n  right_join(stats, by=c(\"Team\"=\"School\")) %>% \n  filter(Games > 0)\n\n\nTo find the worst teams, we’ll find the last place team in each conference by conference wins (minus the Ivy League, which didn’t play due to Covid).\n\n\nCode\nlastplace <- stats %>% \n  group_by(Conference) %>% \n  arrange(desc(ConferenceWins)) %>% \n  slice(n()) %>% \n  filter(Games > 10) %>%\n  ungroup() %>% \n  arrange(desc(OverallSRS))\n\nnu <- lastplace %>% filter(Team == \"Nebraska\")\n\n\nThe first question we’ll ask and answer is by rating, who is the best of the last place teams? Here’s the top 10 of the bottom.\n\n\nCode\nlastplace %>% \n  select(Team, Conference, OverallWins, OverallLosses, OverallSRS, OverallSOS) %>% \n  rename(W = OverallWins, L=OverallLosses, `Simple Rating` = OverallSRS, `Sched. Strength`= OverallSOS) %>% \n  top_n(10, wt=`Simple Rating`) %>% \n  gt() %>%\n  tab_header(\n    title = \"The Huskers are the top of the bottom\",\n    subtitle = \"They only won 7 games but have the best simple rating and toughest schedule among the last place teams.\"\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", align = \"left\"),\n    locations = cells_title(\"title\")\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", align = \"left\"),\n    locations = cells_title(\"subtitle\")\n  ) %>%\n  tab_source_note(\n    source_note = \"By Matt Waite\"\n  ) %>%\n  tab_source_note(\n    source_note = md(\"Source: [Sports Reference](https://www.sports-reference.com/cbb/seasons/2021-school-stats.html)\")\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(Team)\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(`Sched. Strength`),\n      rows = `Sched. Strength` < 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"green\", weight = \"normal\"),\n    locations = cells_body(\n      columns = c(`Sched. Strength`),\n      rows = `Sched. Strength` > 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(`Simple Rating`),\n      rows = `Simple Rating` < 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"green\", weight = \"normal\"),\n    locations = cells_body(\n      columns = c(`Simple Rating`),\n      rows = `Simple Rating` > 0\n    )\n  ) %>% \n  opt_row_striping() %>% \n  opt_table_lines(\"none\") %>% \n  tab_style(\n    style = cell_borders(sides = c(\"top\", \"bottom\"), \n                         color = \"grey\", weight = px(1)),\n    locations = cells_column_labels(everything())\n  )\n\n\n\n\n\n\n  \n    \n      The Huskers are the top of the bottom\n    \n    \n      They only won 7 games but have the best simple rating and toughest schedule among the last place teams.\n    \n  \n  \n    \n      Team\n      Conference\n      W\n      L\n      Simple Rating\n      Sched. Strength\n    \n  \n  \n    Nebraska\nBig Ten\n7\n20\n6.08\n12.28\n    University of California\nPac-12\n9\n20\n4.89\n9.75\n    DePaul\nBig East\n5\n14\n2.67\n8.83\n    Texas A&M\nSEC\n8\n10\n2.20\n4.86\n    East Carolina\nAAC\n8\n11\n1.00\n3.83\n    Boston College\nACC\n4\n16\n0.82\n8.97\n    Iowa State\nBig 12\n2\n22\n-0.72\n10.40\n    Loyola (MD)\nPatriot\n6\n11\n-2.29\n-3.47\n    Illinois State\nMVC\n7\n18\n-5.45\n0.38\n    North Carolina-Wilmington\nCAA\n7\n10\n-6.84\n-6.47\n  \n  \n    \n      By Matt Waite\n    \n    \n      Source: Sports Reference\n    \n  \n  \n\n\n\n\nNebraska has the best simple rating against the toughest competition of the top 10 of the bottom. Meaning they played better against tougher teams than any of these schools on here, including the Big East, the SEC and the Pac-12. The closest in competition to the Big Ten is the Big 12, and Nebraska is far better than Iowa State (which, this season, is a low bar).\nBut what about all teams in college basketball? Where does Nebraska rank out against other teams and other conferences?\n\n\nCode\nggplot() +\n  geom_vline(xintercept = 6.08) + \n  geom_beeswarm(\n    data=stats, \n    groupOnX=FALSE, \n    aes(x=OverallSRS, y=Conference), color=\"grey\") + \n  geom_beeswarm(\n    data=lastplace, \n    groupOnX=TRUE, \n    aes(x=OverallSRS, y=Conference), color=\"blue\") + \n  geom_beeswarm(\n    data=nu, \n    groupOnX=TRUE, \n    aes(x=OverallSRS, y=Conference), color=\"red\") +\n  geom_text(\n    aes(x=2, y=\"Big Ten\", label=\"Nebraska\")\n  ) +\nlabs(x=\"Simple Rating\", y=\"\", title=\"Nebraska's simple rating is better than 9 conferences\", subtitle=\"The Husker's finished dead last in the Big Ten, but wouldn't anywhere else given their rating.\", caption=\"Source: Sports Reference | By Matt Waite\") + \n  theme_minimal() + \n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.title = element_text(size = 8), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    )\n\n\n\n\n\nAdmittedly, the nine conferences Nebraska wins aren’t exactly powerhouses. What about the Power Five?\n\n\nCode\npowerfive <- c(\"Big Ten\", \"Big 12\", \"Pac-12\", \"SEC\", \"ACC\")\n\nbetterpowerfive <- stats %>% filter(Conference %in% powerfive) %>% filter(OverallSRS <= 7.10) %>% arrange(desc(OverallSRS))\n\n\nBy simple rating, Nebraska is better than 14 teams in the Power Five, including four SEC teams and three Big 12 teams. How much better? This bubble chart with the size of the dot scaled by number of wins shows that Nebraska is better than a lot of teams who won more games.\n\n\nCode\nggplot() + \n  geom_point(data=betterpowerfive, aes(x=OverallSRS, y=OverallSOS, size=OverallWins)) + \n  geom_point(data=nu, aes(x=OverallSRS, y=OverallSOS, size=OverallWins), color=\"red\") + \n  geom_text_repel(data=betterpowerfive, aes(x=OverallSRS, y=OverallSOS, label=Team), point.padding = 4) +\nlabs(x=\"Simple Rating\", y=\"\", title=\"Nebraska doesn't finish last anywhere else in the Power Five\", subtitle=\"In the Big 12 or the SEC, Nebraska is closer to the middle of the pack than the bottom.\", caption=\"Source: Sports Reference | By Matt Waite\") + \n  theme_minimal() + \n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.title = element_text(size = 8), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    )\n\n\n\n\n\nNebraska has the core of its team coming back and the Big Ten is not going to be as good as it was this year going forward. There’s been turmoil in some programs, turnover in others, and the NBA draft is going to take some talented players out of the conference.\nWhere does Nebraska finish next year? Signs point to better than last."
  },
  {
    "objectID": "posts/nebraska-is-the-third-best-worst-basketball-team/index.html",
    "href": "posts/nebraska-is-the-third-best-worst-basketball-team/index.html",
    "title": "Nebraska is not the best worst team in basketball again. They’re third best worst.",
    "section": "",
    "text": "Oops.\nIt didn’t work out as expected – in spite of a late season surge. But let’s return to the question: Is Nebraska the best worst team in college basketball?\nSpoiler alert: Not this season.\nReturning to Sports Reference’s college basketball site, we find our friends the Simple Rating System and Strength of Schedule. The SRS is a mix of average point differential and strength of schedule. Given that, a team with a losing record could have a positive rating if they lose games close but play good teams.\nLike, say, Nebraska.\nTo find the worst teams, we’ll use the last place team in each conference by conference wins again.\n\n\nCode\nlibrary(tidyverse)\nlibrary(ggalt)\nlibrary(gt)\nlibrary(ggbeeswarm)\nlibrary(ggrepel)\n\nstats <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/stats22.csv\")\ngames <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/logs22.csv\")\n\nstats <- games %>% \n  select(Team, Conference) %>% \n  distinct() %>% \n  right_join(stats, by=c(\"Team\"=\"School\")) %>% \n  filter(Games > 0)\n\nlastplace <- stats %>%\n  group_by(Conference) %>% \n  arrange(desc(ConferenceWins)) %>% \n  slice(n()) %>% \n  filter(Games > 10) %>%\n  ungroup() %>% \n  arrange(desc(OverallSRS))\n\nnu <- lastplace %>% filter(Team == \"Nebraska\")\n\nlastplace %>% \n  select(Team, Conference, OverallWins, OverallLosses, OverallSRS, OverallSOS) %>% \n  rename(W = OverallWins, L=OverallLosses, `Simple Rating` = OverallSRS, `Sched. Strength`= OverallSOS) %>% \n  top_n(10, wt=`Simple Rating`) %>% \n  gt() %>%\n  tab_header(\n    title = \"The Huskers didn't repeat as best of the worst\",\n    subtitle = \"Notable: NC State - 3OT winner against Nebraska - finished just a hair ahead.\"\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", align = \"left\"),\n    locations = cells_title(\"title\")\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", align = \"left\"),\n    locations = cells_title(\"subtitle\")\n  ) %>%\n  tab_source_note(\n    source_note = \"By Matt Waite\"\n  ) %>%\n  tab_source_note(\n    source_note = md(\"Source: [Sports Reference](https://www.sports-reference.com/cbb/seasons/2022-school-stats.html)\")\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(Team)\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(`Sched. Strength`),\n      rows = `Sched. Strength` < 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"green\", weight = \"normal\"),\n    locations = cells_body(\n      columns = c(`Sched. Strength`),\n      rows = `Sched. Strength` > 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(`Simple Rating`),\n      rows = `Simple Rating` < 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"green\", weight = \"normal\"),\n    locations = cells_body(\n      columns = c(`Simple Rating`),\n      rows = `Simple Rating` > 0\n    )\n  ) %>% \n  opt_row_striping() %>% \n  opt_table_lines(\"none\") %>% \n  tab_style(\n    style = cell_borders(sides = c(\"top\", \"bottom\"), \n                         color = \"grey\", weight = px(1)),\n    locations = cells_column_labels(everything())\n  )\n\n\n\n\n\n\n  \n    \n      The Huskers didn't repeat as best of the worst\n    \n    \n      Notable: NC State - 3OT winner against Nebraska - finished just a hair ahead.\n    \n  \n  \n    \n      Team\n      Conference\n      W\n      L\n      Simple Rating\n      Sched. Strength\n    \n  \n  \n    West Virginia\nBig 12\n15\n16\n10.65\n10.61\n    NC State\nACC\n11\n20\n3.59\n6.08\n    Nebraska\nBig Ten\n10\n21\n3.54\n8.89\n    Georgetown\nBig East\n6\n24\n1.91\n8.31\n    Georgia\nSEC\n6\n25\n0.64\n8.48\n    Oregon State\nPac-12\n3\n27\n-0.76\n8.95\n    South Florida\nAAC\n8\n22\n-2.86\n4.77\n    Northeastern\nCAA\n9\n22\n-6.01\n-1.20\n    Duquesne\nA-10\n6\n23\n-6.39\n2.02\n    Pepperdine\nWCC\n7\n25\n-6.48\n3.97\n  \n  \n    \n      By Matt Waite\n    \n    \n      Source: Sports Reference\n    \n  \n  \n\n\n\n\nThis season, West Virginia takes the best worst crown. They played the toughest schedule and won 15 games, five more than Nebraska, and ended with a far higher simple rating. A familiar name on the list will be NC State, which won an three overtime thriller against Nebraska. They had one more win than the Huskers, and finished just a tiny bit ahead.\nBut what about all teams in college basketball? Where does Nebraska rank out against other teams and other conferences?\n\n\nCode\nggplot() +\n  geom_vline(xintercept = 3.54) + \n  geom_beeswarm(\n    data=stats, \n    groupOnX=FALSE, \n    aes(x=OverallSRS, y=Conference), color=\"grey\") + \n  geom_beeswarm(\n    data=lastplace, \n    groupOnX=TRUE, \n    aes(x=OverallSRS, y=Conference), color=\"blue\") + \n  geom_beeswarm(\n    data=nu, \n    groupOnX=TRUE, \n    aes(x=OverallSRS, y=Conference), color=\"red\") +\n  geom_text(\n    aes(x=0, y=\"Big Ten\", label=\"Nebraska\")\n  ) +\nlabs(x=\"Simple Rating\", y=\"\", title=\"Nebraska's simple rating is better than 5 conferences\", subtitle=\"The Husker's finished dead last in the Big Ten, but wouldn't have nearly everywhere else.\", caption=\"Source: Sports Reference | By Matt Waite\") + \n  theme_minimal() + \n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.title = element_text(size = 8), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    )\n\n\n\n\n\nLast year, Nebraska wins nine conferences. Now it’s five. None of them are powerhouse conferences.\nWhat about the Power Five?\nTo put West Virginia in perspective, there’s 28 Power Five teams with a simple rating worse than they had. Nebraska finishes 22nd among that group. Among that group: Miami, which beat second-seed Auburn in the NCAA Tournament and, as of this writing, is still playing basketball.\n\n\nCode\npowerfive <- c(\"Big Ten\", \"Big 12\", \"Pac-12\", \"SEC\", \"ACC\")\n\nbetterpowerfive <- stats %>% filter(Conference %in% powerfive) %>% filter(OverallSRS <= 10.65) %>% arrange(desc(OverallSRS))\n\nggplot() + \n  geom_point(data=betterpowerfive, aes(x=OverallSRS, y=OverallSOS, size=OverallWins)) + \n  geom_point(data=nu, aes(x=OverallSRS, y=OverallSOS, size=OverallWins), color=\"red\") + \n  geom_text_repel(data=betterpowerfive, aes(x=OverallSRS, y=OverallSOS, label=Team), point.padding = 4) +\nlabs(x=\"Simple Rating\", y=\"Schedule strength\", title=\"Nebraska had a harder schedule than multiple tournament teams\", subtitle=\"Nebraska isn't the best of the worst again, but teams in their ranking neighborhood had better fortunes.\", caption=\"Source: Sports Reference | By Matt Waite\") + \n  theme_minimal() + \n  theme(\n    plot.title = element_text(size = 16, face = \"bold\"),\n    axis.title = element_text(size = 8), \n    plot.subtitle = element_text(size=10), \n    panel.grid.minor = element_blank(),\n    plot.title.position = \"plot\"\n    )\n\n\n\n\n\nThe road forward for Nebraska is even murkier than last year. There’s coaching vacancies and roster turnover ahead, and after last year, no prediction here."
  },
  {
    "objectID": "posts/trying-new-table-libraries/index.html",
    "href": "posts/trying-new-table-libraries/index.html",
    "title": "Trying new table libraries",
    "section": "",
    "text": "I’ve recently shifted my Sports Data Analysis and Visualization class from creating static graphics that get exported as a png graphic to creating blog posts. In doing so, the chapter on tables is not terribly useful or relevant. Exporting a visually interesting table to a png was not easy, so there’s a lot of code and content dedicated to that.\nIt can go away now. The question is, for what?\nTime for a table throwdown.\nThe criteria will be:\nThe contestants:\nI considered Formattable, which has some really great features, but lacks the ability to add a headline, chatter, source and credit lines. So it’s out (though it can be used in combination with Kable)\nLet’s load and go.\nI’m writing this during the NCAA basketball tournament so I’ll use some data from Sports Reference’s college basketball site. We’ll look at wins, team rating and strength of schedule.\nMy intention is to make a table that asks a question as the headline: Did Belmont get snubbed by the selection committee? It needs to have some explanation below the headline – chatter, in news graphics parlance. It’s going to display some basic data, use color to highlight highs and lows, and will have credit and source info at the bottom.\nNOTE: There is a lot more you can do with these libraries that is very very cool. But I’m working with beginners, so I’m keeping it simple."
  },
  {
    "objectID": "posts/trying-new-table-libraries/index.html#first-up-gt",
    "href": "posts/trying-new-table-libraries/index.html#first-up-gt",
    "title": "Trying new table libraries",
    "section": "First up: gt",
    "text": "First up: gt\nI haven’t used gt before now, but it’s from the folks at R Studio so that sets the bar pretty high. It almost certainly means it plugs into the Tidyverse seamlessly, which is an absolute must for my class.\nThe first thing I’m going to do with each library is just see what you get out of the box with no changes.\n\n\nCode\nstats %>% gt()\n\n\n\n\n\n\n  \n  \n    \n      School\n      OverallWins\n      OverallSRS\n      OverallSOS\n    \n  \n  \n    Gonzaga\n31\n27.20\n5.92\n    Baylor\n28\n24.83\n7.40\n    Houston\n28\n21.66\n5.37\n    Alabama\n26\n19.58\n10.01\n    Belmont\n26\n3.46\n-8.71\n    Drake\n26\n9.42\n-0.48\n    Loyola (IL)\n26\n15.12\n1.37\n  \n  \n  \n\n\n\n\nA solid start. I’m going to use examples from Tom Mock’s excellent Gt Cookbook and the documentation’s intro post to make this table.\nI’m not going to walk through all the steps here. I’m just going to try and implement a table that highlights differences, adds a headline, chatter, source line and credit line and does some basic styling to remove excess lines and add some readability help.\n\n\nCode\nstats %>%\n  gt() %>% \n  cols_label(\n    OverallWins = \"Wins\",\n    OverallSRS = \"Rating\",\n    OverallSOS = \"Sched. Strength\"\n  ) %>%\n  tab_header(\n    title = \"Did Belmont get snubbed?\",\n    subtitle = \"They tied Gonzaga winning the most games in college basketball, but those wins weren't very convincing. Drake and Loyola, both tournament teams, had better wins against better opponents.\"\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", align = \"left\"),\n    locations = cells_title(\"title\")\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", align = \"left\"),\n    locations = cells_title(\"subtitle\")\n  ) %>%\n  tab_source_note(\n    source_note = \"By Matt Waite\"\n  ) %>%\n  tab_source_note(\n    source_note = md(\"Source: [Sports Reference](https://www.sports-reference.com/cbb/seasons/2021-school-stats.html)\")\n  ) %>% tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(School)\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(OverallSOS),\n      rows = OverallSOS < 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"green\", weight = \"normal\"),\n    locations = cells_body(\n      columns = c(OverallSOS),\n      rows = OverallSOS > 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"red\", weight = \"bold\"),\n    locations = cells_body(\n      columns = c(OverallSRS),\n      rows = OverallSRS < 0\n    )\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"green\", weight = \"normal\"),\n    locations = cells_body(\n      columns = c(OverallSRS),\n      rows = OverallSRS > 0\n    )\n  ) %>% \n  opt_row_striping() %>% \n  opt_table_lines(\"none\") %>% \n  tab_style(\n    style = cell_borders(sides = c(\"top\", \"bottom\"), \n                         color = \"grey\", weight = px(1)),\n    locations = cells_column_labels(everything())\n  )\n\n\n\n\n\n\n  \n    \n      Did Belmont get snubbed?\n    \n    \n      They tied Gonzaga winning the most games in college basketball, but those wins weren't very convincing. Drake and Loyola, both tournament teams, had better wins against better opponents.\n    \n  \n  \n    \n      School\n      Wins\n      Rating\n      Sched. Strength\n    \n  \n  \n    Gonzaga\n31\n27.20\n5.92\n    Baylor\n28\n24.83\n7.40\n    Houston\n28\n21.66\n5.37\n    Alabama\n26\n19.58\n10.01\n    Belmont\n26\n3.46\n-8.71\n    Drake\n26\n9.42\n-0.48\n    Loyola (IL)\n26\n15.12\n1.37\n  \n  \n    \n      By Matt Waite\n    \n    \n      Source: Sports Reference\n    \n  \n  \n\n\n\n\nUpside: That looks good. Really good. It has all the parts. It’s clean.\nDownside: That’s a lot of repetitive code. I can see the reasoning for separate style blocks for each individual thing – to give maxiumum control over it – but that starts to pile up quickly. It’s not difficult code. It’s quite simple, really. But to a beginner, that’s a lot. Going to take a bit to ramp up with this."
  },
  {
    "objectID": "posts/trying-new-table-libraries/index.html#next-reactable.",
    "href": "posts/trying-new-table-libraries/index.html#next-reactable.",
    "title": "Trying new table libraries",
    "section": "Next: Reactable.",
    "text": "Next: Reactable.\nTo be fair to Reactable here, it’s not exactly a perfect fit. It’s made for interactive tables online, so I’m expecting some fussing here to make this work.\nFirst we look at it without any styling.\n\n\nCode\nstats %>% reactable()\n\n\n\n\n\n\n\nBetter spacing that GT right out of the box, but otherwise similar.\nNow to try and mimic the table I made in GT. I’m borrowing from the documentation’s examples post and some other demos.\n\n\nCode\ntbl <- stats %>%\n  reactable(\n  striped = TRUE,\n  columns = list(\n  OverallSOS = colDef(\n    name = \"Sched. Strength\",\n    style = function(value) {\n      if (value > 0) {\n        color <- \"#008000\"\n        weight <- \"regular\"\n      } else if (value < 0) {\n        color <- \"#e00000\"\n        weight <- \"bold\"\n      } else {\n        color <- \"#777\"\n        weight <- \"regular\"\n      }\n      list(color = color, fontWeight = weight)\n    }\n  ),\n  OverallSRS = colDef(\n    name = \"Rating\",\n    style = function(value) {\n      if (value > 0) {\n        color <- \"#008000\"\n        weight <- \"regular\"\n      } else if (value < 0) {\n        color <- \"#e00000\"\n        weight <- \"bold\"\n      } else {\n        color <- \"#777\"\n        weight <- \"regular\"\n      }\n      list(color = color, fontWeight = weight)\n    }\n  ),\n  OverallWins = colDef(\n    name = \"Wins\",\n  ),\n  School = colDef(\n    style = list(fontWeight = \"bold\")\n  )\n))\n\ndiv(class = \"snub\",\n  div(class = \"table-header\",\n    h2(class = \"table-title\", \"Did Belmont get snubbed?\"),\n    \"They tied Gonzaga winning the most games in college basketball, but those wins weren't very convincing. Drake and Loyola, both tournament teams, had better wins against better opponents.\"\n  ),\n  tbl,\n  \"Source: Sports Reference. By Matt Waite\"\n)\n\n\n\n\n\nDid Belmont get snubbed?\nThey tied Gonzaga winning the most games in college basketball, but those wins weren't very convincing. Drake and Loyola, both tournament teams, had better wins against better opponents.\n\n\n\nSource: Sports Reference. By Matt Waite\n\n\n\nThings I like: The column definitions make a lot more sense to me, putting them all in the same place like that.\nThings I do not like: I do not like that you need some HTML knowledge and another library – htmltools – to add a headline, chatter, and the source/credit line at the bottom. I can see why a developer would want that – the possibilities are limitless! – but that’s a luge track to paralysis for a beginner. One step on that ice and goodbye."
  },
  {
    "objectID": "posts/trying-new-table-libraries/index.html#kable-and-kableextra",
    "href": "posts/trying-new-table-libraries/index.html#kable-and-kableextra",
    "title": "Trying new table libraries",
    "section": "Kable and KableExtra",
    "text": "Kable and KableExtra\nI started using Kable recently, but I’m not totally sold on it. I’m going to use this as a comparison. I’ve used the documentation’s excellent examples for this.\n\n\nCode\nstats %>% kable() %>% kable_styling()\n\n\n\n\n \n  \n    School \n    OverallWins \n    OverallSRS \n    OverallSOS \n  \n \n\n  \n    Gonzaga \n    31 \n    27.20 \n    5.92 \n  \n  \n    Baylor \n    28 \n    24.83 \n    7.40 \n  \n  \n    Houston \n    28 \n    21.66 \n    5.37 \n  \n  \n    Alabama \n    26 \n    19.58 \n    10.01 \n  \n  \n    Belmont \n    26 \n    3.46 \n    -8.71 \n  \n  \n    Drake \n    26 \n    9.42 \n    -0.48 \n  \n  \n    Loyola (IL) \n    26 \n    15.12 \n    1.37 \n  \n\n\n\n\n\nAgain, not bad. But the limitations of Kable are going to become clear quickly. There’s no easy way to add a headline, zero way to add the chatter, and the way to add source and credit lines is to use the footnote, which adds an unnecessary “note” to the bottom. There is some options for coloring of text, but the ability to specify colors to specific cells is limited (and involves editing the data beforehand).\nThis is an example of “bad use case” for this library.\n\n\nCode\nstats %>% \n  kable(caption = \"Did Belmont get snubbed?\", col.names = c('School', 'Wins', 'Rating', 'Sched. Strength')) %>% \n  kable_styling() %>% \n  column_spec(1, bold=T) %>%\n  column_spec(4, color=spec_color(stats$OverallSOS[1:6], option=\"D\")) %>%\n  footnote(general = \"Source: Sports Reference | By Matt Waite\")\n\n\nWarning in ensure_len_html(color, nrows, \"color\"): The number of provided values\nin color does not equal to the number of rows.\n\n\n\n\nDid Belmont get snubbed?\n \n  \n    School \n    Wins \n    Rating \n    Sched. Strength \n  \n \n\n  \n    Gonzaga \n    31 \n    27.20 \n    5.92 \n  \n  \n    Baylor \n    28 \n    24.83 \n    7.40 \n  \n  \n    Houston \n    28 \n    21.66 \n    5.37 \n  \n  \n    Alabama \n    26 \n    19.58 \n    10.01 \n  \n  \n    Belmont \n    26 \n    3.46 \n    -8.71 \n  \n  \n    Drake \n    26 \n    9.42 \n    -0.48 \n  \n  \n    Loyola (IL) \n    26 \n    15.12 \n    1.37 \n  \n\n\nNote: \n\n Source: Sports Reference | By Matt Waite"
  },
  {
    "objectID": "posts/trying-new-table-libraries/index.html#the-verdict",
    "href": "posts/trying-new-table-libraries/index.html#the-verdict",
    "title": "Trying new table libraries",
    "section": "The verdict",
    "text": "The verdict\nFor my use case, which is specific, I’m really liking the output of GT. It’s not as lean and direct as I might want, but none of the libraries were. The output is clean and checks all the boxes for what I need.\nNow to rewrite that chapter."
  },
  {
    "objectID": "posts/ncaa-bracket-with-machine-learning-2021/index.html",
    "href": "posts/ncaa-bracket-with-machine-learning-2021/index.html",
    "title": "How I (poorly) filled out my NCAA bracket with machine learning",
    "section": "",
    "text": "I do not know a lot about college basketball. I follow the travails of my employer and a little about the Big Ten Conference as a whole, but at best it’s surface knowledge. I kinda know who is good that we’re going to play and who isn’t. Beyond that, nada.\nWhich is bad when it comes to tournament time.\nMy typical pattern of filling out bracket is Have I Heard Of This Team, Do They Have a Legendary Coach or Do I Hate Them For Some Reason. Depending on the answers, I make my pick. It’s not rocket science, and it rarely works.\nThis season, along with my SPMC460 Advanced Sports Data Analysis class, I decided to try use machine learning to get me a better bracket. The class is about the use of machine learning in sports, and so we’re going to use classification algorithms to decide a simple W or L designation.\nWhat follows is the logic and the code I used to fill out my bracket.\nHow did it go?\nNot great. Could I have done better guessing? Doubtful."
  },
  {
    "objectID": "posts/ncaa-bracket-with-machine-learning-2021/index.html#toolkit",
    "href": "posts/ncaa-bracket-with-machine-learning-2021/index.html#toolkit",
    "title": "How I (poorly) filled out my NCAA bracket with machine learning",
    "section": "Toolkit",
    "text": "Toolkit\nWhat I’m using to make and feed the model is the Tidyverse and Tidymodels set of libraries, the gt library for presenting some tables later, and doParallel for parallel processing, because the xgboost model training takes a while.\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(gt)\n\nset.seed(1234)\n\nrequire(doParallel)\ncores <- parallel::detectCores(logical = FALSE)"
  },
  {
    "objectID": "posts/ncaa-bracket-with-machine-learning-2021/index.html#feature-engineering",
    "href": "posts/ncaa-bracket-with-machine-learning-2021/index.html#feature-engineering",
    "title": "How I (poorly) filled out my NCAA bracket with machine learning",
    "section": "Feature engineering",
    "text": "Feature engineering\nThe data I’m using is scraped from Sports Reference and it’s the box scores of every Division I college basketball game since the start of the 2014-2015 season. The data is a little funny in that each game is in there twice – I’m scraping school pages, so the Team is always that school, and the Opponent is someone else. So a game between two Division I schools will appear twice – one for each Team.\nMy logic in picking predictors was that how efficient teams are with the ball is important, so I estimated the number of possessions and then calculated offensive and defensive ratings (which is points per 100 possessions).\nI then wanted some kind of a metric of how good of a win or how bad of a loss a particular game was. So I calculated the score margin and added it to the opponent’s simple rating from Sports Reference. So a team losing close to a good team isn’t a bad loss. A bad team beating a good team is a great win. And so on. So if you’re a team beating up on bad teams, you don’t get a lot of credit for that.\nThen, I used the teams cumulative mean over the course of the season to estimate what they would have going into the game. Obviously, you can’t know how a team will play going into a game, but I figure that they’ll be somewhere around their cumulative mean, which should pick up if the team is playing better or worse over a few games.\nThen, for tournament purposes, I cut that to the last 10 games of the season. You are who you are in your last 10 games before the end of the season.\nAt least, that was my thinking.\n\n\nCode\ngames <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/cbblogs1521.csv\") %>% mutate(\n  Possessions = .5*(TeamFGA - TeamOffRebounds + TeamTurnovers + (.475 * TeamFTA)) + .5*(OpponentFGA - OpponentOffRebounds + OpponentTurnovers + (.475 * OpponentFTA)),\n  OffensiveRating = (TeamScore/Possessions)*100, \n  DefensiveRating = (OpponentScore/Possessions)*100,\n  ScoreDifference = TeamScore - OpponentScore,\n  WinQuality = case_when(is.na(OpponentSRS) == TRUE ~ ScoreDifference, TRUE ~ ScoreDifference + OpponentSRS)\n  ) %>%\n  group_by(Team, Season) %>%\n  mutate(\n  Cumulative_Mean_Offensive = cummean(OffensiveRating),\n  Cumulative_Mean_Defensive = cummean(DefensiveRating),\n  Cumulative_Mean_WinQuality = cummean(WinQuality)\n  ) %>% \n  filter(between(Game, max(Game)-10, max(Game))) %>% \n  ungroup() %>% \n  mutate(\n Outcome = case_when(\n  grepl(\"W\", W_L) ~ \"W\", \n  grepl(\"L\", W_L) ~ \"L\"\n )\n) %>%\n  mutate(Outcome = as.factor(Outcome)) \n\n\nRows: 64866 Columns: 48\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr   (8): Season, TeamFull, Opponent, HomeAway, W_L, URL, Conference, Team\ndbl  (39): Game, TeamScore, OpponentScore, TeamFG, TeamFGA, TeamFGPCT, Team3...\ndate  (1): Date\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nThen, to get both sides of a match-up to be the correct stats, I used some joining to combine them into a single dataset with the cumulative stats for each side that will then use to train a model.\n\n\nCode\nselectedgames <- games %>% \n  select(\n    Season, Team, Date, Opponent, Outcome, Cumulative_Mean_Offensive, Cumulative_Mean_Defensive, Cumulative_Mean_WinQuality, TeamSRS, TeamSOS)\n\nopponentgames <- selectedgames %>% \n  select(-Opponent) %>% \n  rename(\n    Opponent = Team, \n    Opponent_Cumulative_Offensive = Cumulative_Mean_Offensive, \n    Opponent_Cumulative_Mean_Defensive = Cumulative_Mean_Defensive, \n    Opponent_Cumulative_Mean_WinQuality = Cumulative_Mean_WinQuality, \n    OpponentSRS = TeamSRS, \n    OpponentSOS = TeamSOS\n    )\n\nbothsides <- selectedgames %>% \n  left_join(opponentgames, by=c(\"Opponent\", \"Date\", \"Season\")) %>% \n  na.omit() %>% \n  select(-Outcome.y) %>% \n  rename(Outcome = Outcome.x)"
  },
  {
    "objectID": "posts/ncaa-bracket-with-machine-learning-2021/index.html#modeling-with-tidymodels",
    "href": "posts/ncaa-bracket-with-machine-learning-2021/index.html#modeling-with-tidymodels",
    "title": "How I (poorly) filled out my NCAA bracket with machine learning",
    "section": "Modeling with Tidymodels",
    "text": "Modeling with Tidymodels\nThere’s a growing supply of tutorials on how to use tidymodels to do machine learning, and one of the authors of the library, Julia Silge, has a long list of posts that greatly helped me figure this all out.\nTo start the modeling processing, I’m going to split my data into training and testing sets.\n\n\nCode\nbracket_split <- initial_split(bothsides, prop = .8)\nbracket_train <- training(bracket_split)\nbracket_test <- testing(bracket_split)\n\n\nI then created a simple recipe, which doesn’t do much except set aside some fields as ID fields instead of making them predictors.\n\n\nCode\nxg_rec <- \n  recipe(Outcome ~ ., data = bracket_train) %>%\n  update_role(Team, Opponent, Date, Season, new_role = \"ID\")\n\nsummary(xg_rec)\n\n\n# A tibble: 15 × 4\n   variable                            type    role      source  \n   <chr>                               <chr>   <chr>     <chr>   \n 1 Season                              nominal ID        original\n 2 Team                                nominal ID        original\n 3 Date                                date    ID        original\n 4 Opponent                            nominal ID        original\n 5 Cumulative_Mean_Offensive           numeric predictor original\n 6 Cumulative_Mean_Defensive           numeric predictor original\n 7 Cumulative_Mean_WinQuality          numeric predictor original\n 8 TeamSRS                             numeric predictor original\n 9 TeamSOS                             numeric predictor original\n10 Opponent_Cumulative_Offensive       numeric predictor original\n11 Opponent_Cumulative_Mean_Defensive  numeric predictor original\n12 Opponent_Cumulative_Mean_WinQuality numeric predictor original\n13 OpponentSRS                         numeric predictor original\n14 OpponentSOS                         numeric predictor original\n15 Outcome                             nominal outcome   original\n\n\nThen I define my model, which I am going to tune all of the hyperparameters in an xgboost model later.\n\n\nCode\nxg_mod <-   boost_tree(\n  trees = tune(), \n  learn_rate = tune(),\n  tree_depth = tune(), \n  min_n = tune(),\n  loss_reduction = tune(), \n  sample_size = tune(), \n  mtry = tune(), \n  ) %>% \n  set_mode(\"classification\") %>% \n  set_engine(\"xgboost\", nthread = cores)\n\n\nWith a recipe and a model definition, I can create a workflow, which will now handle a whole lot of chores for me.\n\n\nCode\nbracket_wflow <- \n  workflow() %>% \n  add_model(xg_mod) %>% \n  add_recipe(xg_rec)\n\n\nTo tune my hyperparameters, I am going to use a Latin Hypercube, which is a method for generating near-random samples of paremeters to try.\n\n\nCode\nxgb_grid <- grid_latin_hypercube(\n  trees(),\n  tree_depth(),\n  min_n(),\n  loss_reduction(),\n  sample_size = sample_prop(),\n  finalize(mtry(), bracket_train),\n  learn_rate(),\n  size = 30\n)\n\n\nTo test these hyperparemeters, I am going to make some cross-fold valiations samples that we can use.\n\n\nCode\nbracket_folds <- vfold_cv(bracket_train)\n\n\nAnd now comes the part that makes my laptop fan turn into a jet engine. The next block uses parallel processing to try the 30 samples from the Latin Hypercube and tests it against my cross fold validation samples. It … takes a while.\n\n\nCode\ndoParallel::registerDoParallel(cores = cores)\n\nxgb_res <- tune_grid(\n  bracket_wflow,\n  resamples = bracket_folds,\n  grid = xgb_grid,\n  control = control_grid(save_pred = TRUE)\n)\n\ndoParallel::stopImplicitCluster()\n\n\nBut out of it, we get the best combination of hyperparameters to use as inputs into our model. I’m going to use area under the curve as my evaluation metric to determine what is best.\n\n\nCode\nbest_roc <- select_best(xgb_res, \"roc_auc\")\n\n\nAnd I can now feed that into my final workflow.\n\n\nCode\nfinal_xgb <- finalize_workflow(\n  bracket_wflow,\n  best_roc\n)\n\n\nAnd I can now train a model to use on bracket games.\n\n\nCode\nxg_fit <- \n  final_xgb %>% \n  fit(data = bracket_train)"
  },
  {
    "objectID": "posts/ncaa-bracket-with-machine-learning-2021/index.html#evaluating-the-model",
    "href": "posts/ncaa-bracket-with-machine-learning-2021/index.html#evaluating-the-model",
    "title": "How I (poorly) filled out my NCAA bracket with machine learning",
    "section": "Evaluating the model",
    "text": "Evaluating the model\nSo how does this model do?\n\n\nCode\ntrainresults <- bracket_train %>%\n  bind_cols(predict(xg_fit, bracket_train))\n\nmetrics(trainresults, truth = Outcome, estimate = .pred_class)\n\n\n# A tibble: 2 × 3\n  .metric  .estimator .estimate\n  <chr>    <chr>          <dbl>\n1 accuracy binary         0.719\n2 kap      binary         0.438\n\n\nAgainst my training set, not bad. I can predict the correct outcome of a basketball game better than 70 percent of the time.\nHow about against data the model hasn’t seen yet?\n\n\nCode\ntestresults <- bracket_test %>%\n  bind_cols(predict(xg_fit, bracket_test))\n\nmetrics(testresults, truth = Outcome, estimate = .pred_class)\n\n\n# A tibble: 2 × 3\n  .metric  .estimator .estimate\n  <chr>    <chr>          <dbl>\n1 accuracy binary         0.705\n2 kap      binary         0.411\n\n\nJust about the same, which means my model is robust to new data.\nI have made a machine learning model that is better at this than I could be.\nMission accomplished.\nI think."
  },
  {
    "objectID": "posts/ncaa-bracket-with-machine-learning-2021/index.html#play-in-games",
    "href": "posts/ncaa-bracket-with-machine-learning-2021/index.html#play-in-games",
    "title": "How I (poorly) filled out my NCAA bracket with machine learning",
    "section": "Play In Games",
    "text": "Play In Games\nI’m not going to bore you with the tedium of applying this to every game in each round. My notebook that does it all is almost 900 lines of code long, and this post is already getting long. But here’s an example of what it looks like using the play-in games.\nTo do this, I needed to make a tibble of the games, with the team and opponent. The date doesn’t matter, but it’s needed because my model is expecting it.\nThen, I need to get the right data for each team and join it to them so each game has the predictors the model is expecting. Then, using the model, we can predict the outcome.\n\n\nCode\nplayin <- tibble(\n  Team=\"Norfolk State\",\n  Opponent=\"Appalachian State\",\n  Date = as.Date(\"2021-03-19\")\n) %>% add_row(\n  Team=\"Wichita State\",\n  Opponent=\"Drake\",\n  Date = as.Date(\"2021-03-19\")\n) %>% add_row(\n  Team=\"Mount St. Mary's\",\n  Opponent=\"Texas Southern\",\n  Date = as.Date(\"2021-03-19\")\n) %>% add_row(\n  Team=\"Michigan State\",\n  Opponent=\"UCLA\",\n  Date = as.Date(\"2021-03-19\")\n)\n\nplayingames <- selectedgames %>% \n  group_by(Team) %>% \n  filter(Date == max(Date), Season == \"2020-2021\") %>% \n  select(-Date, -Opponent, -Outcome) %>% \n  right_join(playin)\n\n\nJoining, by = \"Team\"\n\n\nCode\nplayingames <- opponentgames %>% \n  group_by(Opponent) %>% \n  filter(Date == max(Date)) %>% \n  ungroup()  %>% \n  select(-Season, -Date, -Outcome) %>% \n  right_join(playingames, by=c(\"Opponent\")) %>% \n  select(Team, everything())\n\nplayinround <- xg_fit %>% \n  predict(new_data = playingames) %>%\n  bind_cols(playingames) \n\nplayinround <- xg_fit %>% \n  predict(new_data = playinround, type=\"prob\") %>%\n  bind_cols(playinround)\n\nplayinround %>% select(Team, .pred_class, Opponent, .pred_L) %>% \n  gt() %>% \n  opt_row_striping() %>% \n  opt_table_lines(\"none\") %>% \n  tab_style(\n    style = cell_borders(sides = c(\"top\", \"bottom\"), \n                         color = \"grey\", weight = px(1)),\n    locations = cells_column_labels(everything())\n  )\n\n\n\n\n\n\n  \n  \n    \n      Team\n      .pred_class\n      Opponent\n      .pred_L\n    \n  \n  \n    Norfolk State\nL\nAppalachian State\n0.5542561\n    Wichita State\nL\nDrake\n0.5503606\n    Mount St. Mary's\nW\nTexas Southern\n0.2786840\n    Michigan State\nL\nUCLA\n0.5978317\n  \n  \n  \n\n\n\n\nSince these games have already happened, we know the outcome, and my model got 3 of 4 correct. The only miss was predicting Norfolk State would win, but it also happens to be the game the model has the least amount of confidence in.\nThis might actually work."
  },
  {
    "objectID": "posts/ncaa-bracket-with-machine-learning-2021/index.html#hows-it-going",
    "href": "posts/ncaa-bracket-with-machine-learning-2021/index.html#hows-it-going",
    "title": "How I (poorly) filled out my NCAA bracket with machine learning",
    "section": "How’s it going?",
    "text": "How’s it going?\nIn a word: horrible.\nAfter two rounds, my bracket is better than 38 percent of brackets on ESPN, which puts me in 9.1 millionth place, give or take. I’ve been as low as 10.8 millionth place, so I’ve come up a bit. I still have three of my four Final Four teams and four of eight Elite Eight teams.\nWhen the dust has settled, I’m going to come back and evaluate. Here’s screenshots of my bracket."
  },
  {
    "objectID": "posts/another-year-another-attempt-another-bracket-disaster/index.html",
    "href": "posts/another-year-another-attempt-another-bracket-disaster/index.html",
    "title": "Another year, another attempt, another bracket disaster",
    "section": "",
    "text": "If you like the madness part of March Madness, this year is for you.\nIt is not for machine learning algorithms based on regular season performance. At least not mine.\nOf the 14 brackets I and my students produced, using 14 different methods, we came up with 7 unique national title winners.\nZero of them are right.\nThe best brackets had two of the four Final Four teams, but none picked a team still playing now to win it all with the Final Four set.\nI had hope for my bracket picking algorithm this year. It had what felt like a good mix of upsets and favorites, some madness and some method.\nWhat follows is a post mortem and an attempt to figure out what went wrong. If anything went wrong. How do you predict St. Peter’s? You don’t. It’s what makes this fun.\n\n\nCode\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(zoo)\nlibrary(hoopR)\nlibrary(gt)\n\nset.seed(1234)\n\nkenpom <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/ratings.csv\")\nnamekey <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/nametable.csv\")\nsimplestats <- read_csv(\"http://mattwaite.github.io/sportsdatafiles/simplestats.csv\")\n\nteamgames <- load_mbb_team_box(seasons = 2015:2022) %>%\n  filter(game_date < as.Date(\"2022-03-17\")) %>%\n  separate(field_goals_made_field_goals_attempted, into = c(\"field_goals_made\",\"field_goals_attempted\")) %>%\n  separate(three_point_field_goals_made_three_point_field_goals_attempted, into = c(\"three_point_field_goals_made\",\"three_point_field_goals_attempted\")) %>%\n  separate(free_throws_made_free_throws_attempted, into = c(\"free_throws_made\",\"free_throws_attempted\")) %>%\n  mutate_at(12:34, as.numeric) %>% \n  mutate(team_id = as.numeric(team_id))\n\nteamgames <- teamgames %>% left_join(namekey) %>% left_join(kenpom, by=c(\"team\" = \"team\", \"season\"=\"year\")) %>% left_join(simplestats, by=c(\"School\" = \"School\", \"season\" = \"Season\"))\n\nteamstats <- teamgames %>% \n  group_by(team_short_display_name, season) %>%\n  arrange(game_date) %>%\n  mutate(\n    team_score = ((field_goals_made-three_point_field_goals_made) * 2) + (three_point_field_goals_made*3) + free_throws_made,\n    possessions = field_goals_attempted - offensive_rebounds + turnovers + (.475 * free_throws_attempted),\n    team_offensive_efficiency = (team_score/possessions)*100,\n    true_shooting_percentage = (team_score / (2*(field_goals_attempted + (.44 * free_throws_attempted)))) * 100,\n    turnover_pct = turnovers/(field_goals_attempted + 0.44 * free_throws_attempted + turnovers),\n    free_throw_factor = free_throws_made/field_goals_attempted,\n    team_rolling_true_shooting_percentage = rollmean(lag(true_shooting_percentage, n=1), k=10, align=\"right\", fill=NA),\n    team_rolling_turnover_percentage = rollmean(lag(turnover_pct, n=1), k=10, align=\"right\", fill=NA),\n    team_rolling_free_throw_factor = rollmean(lag(free_throw_factor, n=1), k=10, align=\"right\", fill=NA), \n    team_cumulative_mean_true_shooting = lag(cummean(true_shooting_percentage), n=1, default=0),\n    team_cumulative_mean_turnover_percentage = lag(cummean(turnover_pct), n=1, default=0),\n    team_cumulative_mean_free_throw_factor = lag(cummean(free_throw_factor), n=1, default=0),\n    team_cumulative_o_eff = lag(cummean(team_offensive_efficiency), n=1, default=0),\n    team_rolling_o_eff = rollmean(lag(team_offensive_efficiency, n=1), k=10, align=\"right\", fill=NA)\n  ) %>% ungroup() %>%\n  rename(\n    team_sos = OverallSOS,\n    team_srs = OverallSRS,\n    team_luck = luck\n  )\n\nteamstats <- teamstats %>% \n  select(game_id, team_id, team_offensive_efficiency) %>%\n  mutate(team_id = as.numeric(team_id)) %>% \n  rename(opponent_id = team_id, opponent_offensive_efficiency=team_offensive_efficiency) %>% \n  left_join(teamstats) %>%\n  group_by(team_short_display_name, season) %>%\n  arrange(game_date) %>%\n  mutate(\n    team_cumulative_d_eff = lag(cummean(opponent_offensive_efficiency), n=1, default=0),\n    team_rolling_d_eff = rollmean(lag(opponent_offensive_efficiency, n=1), k=10, align=\"right\", fill=NA)\n    ) %>% ungroup()\n\nopponent <- teamstats %>% select(game_id, team_id, offensive_rebounds, defensive_rebounds) %>% rename(opponent_id=team_id, opponent_offensive_rebounds = offensive_rebounds, opponent_defensive_rebounds=defensive_rebounds) %>% mutate(opponent_id = as.numeric(opponent_id))\n\nnewteamstats <- teamstats %>% \n  inner_join(opponent) %>% \n  mutate(\n    orb = offensive_rebounds / (offensive_rebounds + opponent_defensive_rebounds),\n    drb = defensive_rebounds / (opponent_offensive_rebounds + defensive_rebounds),\n    team_rolling_orb = rollmean(lag(orb, n=1), k=10, align=\"right\", fill=NA),\n    team_rolling_drb = rollmean(lag(drb, n=1), k=10, align=\"right\", fill=NA),\n    team_cumulative_mean_orb = lag(cummean(orb), n=1, default=0),\n    team_cumulative_mean_drb = lag(cummean(drb), n=1, default=0),\n    team_efficiency_margin = team_cumulative_o_eff - team_cumulative_d_eff,\n    team_recent_efficiency_margin = team_rolling_o_eff - team_rolling_d_eff,\n    team_recency = team_recent_efficiency_margin - team_efficiency_margin\n    ) \n\nteam_side <- newteamstats %>%\n  select(game_id, team_id, team_short_display_name, opponent_id, game_date, season, team_score, team_rolling_true_shooting_percentage, team_rolling_free_throw_factor, team_rolling_turnover_percentage, team_rolling_orb, team_rolling_drb, team_cumulative_mean_true_shooting, team_cumulative_mean_turnover_percentage, team_cumulative_mean_free_throw_factor, team_cumulative_mean_orb, team_cumulative_mean_drb, team_cumulative_o_eff, team_cumulative_d_eff, team_efficiency_margin, team_sos, team_srs, team_luck, team_recency) %>% na.omit()\n\nopponent_side <- newteamstats %>%\n  select(game_id, team_id, team_short_display_name, team_score, team_rolling_true_shooting_percentage, team_rolling_free_throw_factor, team_rolling_turnover_percentage, team_rolling_orb, team_rolling_drb, team_cumulative_mean_true_shooting, team_cumulative_mean_turnover_percentage, team_cumulative_mean_free_throw_factor, team_cumulative_mean_orb, team_cumulative_mean_drb, team_cumulative_o_eff, team_cumulative_d_eff, team_efficiency_margin, team_sos, team_srs, team_luck, team_recency) %>% na.omit() %>%\n  rename(\n    opponent_id = team_id,\n    opponent_short_display_name = team_short_display_name,\n    opponent_score = team_score,\n    opponent_rolling_true_shooting_percentage = team_rolling_true_shooting_percentage,\n    opponent_rolling_free_throw_factor = team_rolling_free_throw_factor,\n    opponent_rolling_turnover_percentage = team_rolling_turnover_percentage,\n    opponent_rolling_orb = team_rolling_orb,\n    opponent_rolling_drb = team_rolling_drb,\n    opponent_cumulative_mean_true_shooting = team_cumulative_mean_true_shooting,\n    opponent_cumulative_mean_turnover_percentage = team_cumulative_mean_turnover_percentage,\n    opponent_cumulative_mean_free_throw_factor = team_cumulative_mean_free_throw_factor,\n    opponent_cumulative_mean_orb = team_cumulative_mean_orb,\n    opponent_cumulative_mean_drb = team_cumulative_mean_drb,\n    opponent_cumulative_o_eff = team_cumulative_o_eff,\n    opponent_cumulative_d_eff = team_cumulative_d_eff,\n    opponent_efficiency_margin = team_efficiency_margin,\n    opponent_srs = team_srs,\n    opponent_sos = team_sos,\n    opponent_luck = team_luck,\n    opponent_recency = team_recency\n  ) %>%\n  mutate(\n    opponent_id = as.numeric(opponent_id)\n    )\n\ngames <- team_side %>% inner_join(opponent_side) %>% mutate(\n  TeamResult = as.factor(case_when(\n    team_score > opponent_score ~ \"W\",\n    opponent_score > team_score ~ \"L\"\n))) %>% na.omit()\n\ngames$TeamResult <- relevel(games$TeamResult, ref=\"W\")\n\ncumulativesimplemodelgames <- games %>% select(game_id, game_date, team_short_display_name, opponent_short_display_name, season, opponent_efficiency_margin, team_efficiency_margin, team_sos, team_srs, opponent_sos, opponent_srs, opponent_luck, team_luck, opponent_recency, team_recency, TeamResult) %>% na.omit()\n\ncumulative_split <- initial_split(cumulativesimplemodelgames, prop = .8)\ncumulative_train <- training(cumulative_split)\ncumulative_test <- testing(cumulative_split)\n\ncumulative_recipe <- \n  recipe(TeamResult ~ ., data = cumulative_train) %>% \n  update_role(game_id, game_date, team_short_display_name, opponent_short_display_name, season, new_role = \"ID\") %>%\n  step_normalize(all_predictors())\n\nlog_mod <- \n  logistic_reg() %>% \n  set_engine(\"glm\") %>%\n  set_mode(\"classification\")\n\nlog_workflow <- \n  workflow() %>% \n  add_model(log_mod) %>% \n  add_recipe(cumulative_recipe)\n\nlog_fit <- \n  log_workflow %>% \n  fit(data = cumulative_train)\n\nteamstats <- teamgames %>% \n  group_by(team_short_display_name, season) %>%\n  arrange(game_date) %>%\n  mutate(\n    team_score = ((field_goals_made-three_point_field_goals_made) * 2) + (three_point_field_goals_made*3) + free_throws_made,\n    possessions = field_goals_attempted - offensive_rebounds + turnovers + (.475 * free_throws_attempted),\n    team_offensive_efficiency = (team_score/possessions)*100,\n    true_shooting_percentage = (team_score / (2*(field_goals_attempted + (.44 * free_throws_attempted)))) * 100,\n    turnover_pct = turnovers/(field_goals_attempted + 0.44 * free_throws_attempted + turnovers),\n    free_throw_factor = free_throws_made/field_goals_attempted,\n    team_rolling_true_shooting_percentage = rollmean(true_shooting_percentage, k=5, align=\"right\", fill=NA),\n    team_rolling_turnover_percentage = rollmean(turnover_pct, k=5, align=\"right\", fill=NA),\n    team_rolling_free_throw_factor = rollmean(free_throw_factor, k=4, align=\"right\", fill=NA), \n    team_cumulative_mean_true_shooting = cummean(true_shooting_percentage),\n    team_cumulative_mean_turnover_percentage = cummean(turnover_pct),\n    team_cumulative_mean_free_throw_factor = cummean(free_throw_factor),\n    team_cumulative_o_eff = cummean(team_offensive_efficiency),\n    team_rolling_o_eff = rollmean(team_offensive_efficiency, k=10, align=\"right\", fill=NA)\n  ) %>% ungroup() \n\nteamstats <- teamstats %>% \n  select(game_id, team_id, team_offensive_efficiency) %>%\n  mutate(team_id = as.numeric(team_id)) %>% \n  rename(opponent_id = team_id, opponent_offensive_efficiency=team_offensive_efficiency) %>% \n  left_join(teamstats) %>%\n  group_by(team_short_display_name, season) %>%\n  arrange(game_date) %>%\n  mutate(\n    team_cumulative_d_eff = cummean(opponent_offensive_efficiency),\n    team_rolling_d_eff = rollmean(opponent_offensive_efficiency, k=10, align=\"right\", fill=NA)\n    ) %>% ungroup() %>%\n  rename(\n    team_sos = OverallSOS,\n    team_srs = OverallSRS, \n    team_luck = luck\n  )\n\nopponent <- teamstats %>% select(game_id, team_id, offensive_rebounds, defensive_rebounds) %>% rename(opponent_id=team_id, opponent_offensive_rebounds = offensive_rebounds, opponent_defensive_rebounds=defensive_rebounds) %>% mutate(opponent_id = as.numeric(opponent_id))\n\nnewteamstats <- teamstats %>% \n  inner_join(opponent) %>% \n  mutate(\n    orb = offensive_rebounds / (offensive_rebounds + opponent_defensive_rebounds),\n    drb = defensive_rebounds / (opponent_offensive_rebounds + defensive_rebounds),\n    team_rolling_orb = rollmean(orb, k=5, align=\"right\", fill=NA),\n    team_rolling_drb = rollmean(drb, k=5, align=\"right\", fill=NA),\n    team_cumulative_mean_orb = cummean(orb),\n    team_cumulative_mean_drb = cummean(drb),\n    team_efficiency_margin = team_cumulative_o_eff - team_cumulative_d_eff,\n    team_recent_efficiency_margin = team_rolling_o_eff - team_rolling_d_eff,\n    team_recency = team_recent_efficiency_margin - team_efficiency_margin\n    )\n\nteam_side <- newteamstats %>%\n  select(game_id, team_id, team_short_display_name, opponent_id, game_date, season, team_score, team_rolling_true_shooting_percentage, team_rolling_free_throw_factor, team_rolling_turnover_percentage, team_rolling_orb, team_rolling_drb, team_cumulative_mean_true_shooting, team_cumulative_mean_turnover_percentage, team_cumulative_mean_free_throw_factor, team_cumulative_mean_orb, team_cumulative_mean_drb, team_cumulative_o_eff, team_cumulative_d_eff, team_efficiency_margin, team_rolling_o_eff, team_rolling_d_eff, team_sos, team_srs, team_luck, team_recency) %>% na.omit()\n\nopponent_side <- newteamstats %>%\n  select(game_id, team_id, team_short_display_name, team_score, team_rolling_true_shooting_percentage, team_rolling_free_throw_factor, team_rolling_turnover_percentage, team_rolling_orb, team_rolling_drb, team_cumulative_mean_true_shooting, team_cumulative_mean_turnover_percentage, team_cumulative_mean_free_throw_factor, team_cumulative_mean_orb, team_cumulative_mean_drb, team_cumulative_o_eff, team_cumulative_d_eff, team_efficiency_margin, team_rolling_o_eff, team_rolling_d_eff, team_sos, team_srs, team_luck, team_recency) %>% na.omit() %>%\n  rename(\n    opponent_id = team_id,\n    opponent_short_display_name = team_short_display_name,\n    opponent_score = team_score,\n    opponent_rolling_true_shooting_percentage = team_rolling_true_shooting_percentage,\n    opponent_rolling_free_throw_factor = team_rolling_free_throw_factor,\n    opponent_rolling_turnover_percentage = team_rolling_turnover_percentage,\n    opponent_rolling_orb = team_rolling_orb,\n    opponent_rolling_drb = team_rolling_drb,\n    opponent_cumulative_mean_true_shooting = team_cumulative_mean_true_shooting,\n    opponent_cumulative_mean_turnover_percentage = team_cumulative_mean_turnover_percentage,\n    opponent_cumulative_mean_free_throw_factor = team_cumulative_mean_free_throw_factor,\n    opponent_cumulative_mean_orb = team_cumulative_mean_orb,\n    opponent_cumulative_mean_drb = team_cumulative_mean_drb,\n    opponent_cumulative_o_eff = team_cumulative_o_eff,\n    opponent_cumulative_d_eff = team_cumulative_d_eff,\n    opponent_efficiency_margin = team_efficiency_margin,\n    opponent_rolling_o_eff = team_rolling_o_eff, \n    opponent_rolling_d_eff = team_rolling_d_eff,\n    opponent_srs = team_srs,\n    opponent_sos = team_sos,\n    opponent_luck = team_luck,\n    opponent_recency = team_recency\n  ) %>%\n  mutate(\n    opponent_id = as.numeric(opponent_id)\n    )\n\ngames <- team_side %>% inner_join(opponent_side) %>% mutate(\n  TeamResult = as.factor(case_when(\n    team_score > opponent_score ~ \"W\",\n    opponent_score > team_score ~ \"L\"\n))) %>% na.omit()\n\ngames$TeamResult <- relevel(games$TeamResult, ref=\"W\")\n\ncumulativesimplemodelgames <- games %>% select(game_id, game_date, team_short_display_name, opponent_short_display_name, season, opponent_efficiency_margin, team_efficiency_margin, team_sos, team_srs, opponent_sos, opponent_srs, team_luck, opponent_luck, team_recency, opponent_recency, TeamResult) \n\nwestround1games <- tibble(\n  team_short_display_name=\"Gonzaga\",\n  opponent_short_display_name=\"Georgia State\"\n) %>% add_row(\n  team_short_display_name=\"Boise State\",\n  opponent_short_display_name=\"Memphis\"\n) %>% add_row(\n  team_short_display_name=\"UConn\",\n  opponent_short_display_name=\"New Mexico St\"\n) %>% add_row(\n  team_short_display_name=\"Arkansas\",\n  opponent_short_display_name=\"Vermont\"\n) %>% add_row(\n  team_short_display_name=\"Alabama\",\n  opponent_short_display_name=\"Notre Dame\"\n) %>% add_row(\n  team_short_display_name=\"Texas Tech\",\n  opponent_short_display_name=\"Montana State\"\n) %>% add_row(\n  team_short_display_name=\"Michigan State\",\n  opponent_short_display_name=\"Davidson\"\n) %>% add_row(\n  team_short_display_name=\"Duke\",\n  opponent_short_display_name=\"CSU Fullerton\"\n)\n\nwestround1games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(westround1games)\n\nwestround1games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(westround1games) \n\nwestround1log <- log_fit %>% predict(new_data = westround1games) %>%\n  bind_cols(westround1games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nwestround1log <- log_fit %>% predict(new_data = westround1log, type=\"prob\") %>%\n  bind_cols(westround1log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nwestround2games <- tibble(\n  team_short_display_name=\"Gonzaga\",\n  opponent_short_display_name=\"Memphis\"\n) %>% add_row(\n  team_short_display_name=\"UConn\",\n  opponent_short_display_name=\"Arkansas\"\n) %>% add_row(\n  team_short_display_name=\"Alabama\",\n  opponent_short_display_name=\"Texas Tech\"\n) %>% add_row(\n  team_short_display_name=\"Michigan State\",\n  opponent_short_display_name=\"Duke\"\n)\n\nwestround2games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(westround2games)\n\nwestround2games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(westround2games) \n\nwestround2log <- log_fit %>% predict(new_data = westround2games) %>%\n  bind_cols(westround2games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nwestround2log <- log_fit %>% predict(new_data = westround2log, type=\"prob\") %>%\n  bind_cols(westround2log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nwestround3games <- tibble(\n  team_short_display_name=\"Gonzaga\",\n  opponent_short_display_name=\"Arkansas\"\n) %>% add_row(\n  team_short_display_name=\"Alabama\",\n  opponent_short_display_name=\"Duke\"\n) \n\nwestround3games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(westround3games)\n\nwestround3games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(westround3games) \n\nwestround3log <- log_fit %>% predict(new_data = westround3games) %>%\n  bind_cols(westround3games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nwestround3log <- log_fit %>% predict(new_data = westround3log, type=\"prob\") %>%\n  bind_cols(westround3log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nwestround4games <- tibble(\n  team_short_display_name=\"Gonzaga\",\n  opponent_short_display_name=\"Alabama\"\n) \n\nwestround4games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(westround4games)\n\nwestround4games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(westround4games) \n\nwestround4log <- log_fit %>% predict(new_data = westround4games) %>%\n  bind_cols(westround4games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nwestround4log <- log_fit %>% predict(new_data = westround4log, type=\"prob\") %>%\n  bind_cols(westround4log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\neastround1games <- tibble(\n  team_short_display_name=\"Baylor\",\n  opponent_short_display_name=\"Norfolk State\"\n) %>% add_row(\n  team_short_display_name=\"North Carolina\",\n  opponent_short_display_name=\"Marquette\"\n) %>% add_row(\n  team_short_display_name=\"Saint Mary's\",\n  opponent_short_display_name=\"Indiana\"\n) %>% add_row(\n  team_short_display_name=\"UCLA\",\n  opponent_short_display_name=\"Akron\"\n) %>% add_row(\n  team_short_display_name=\"Texas\",\n  opponent_short_display_name=\"Virginia Tech\"\n) %>% add_row(\n  team_short_display_name=\"Purdue\",\n  opponent_short_display_name=\"Yale\"\n) %>% add_row(\n  team_short_display_name=\"Murray State\",\n  opponent_short_display_name=\"San Francisco\"\n) %>% add_row(\n  team_short_display_name=\"Kentucky\",\n  opponent_short_display_name=\"Saint Peter's\"\n)\n\neastround1games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(eastround1games)\n\neastround1games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(eastround1games) \n\neastround1log <- log_fit %>% predict(new_data = eastround1games) %>%\n  bind_cols(eastround1games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\neastround1log <- log_fit %>% predict(new_data = eastround1log, type=\"prob\") %>%\n  bind_cols(eastround1log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\neastround2games <- tibble(\n  team_short_display_name=\"Baylor\",\n  opponent_short_display_name=\"North Carolina\"\n) %>% add_row(\n  team_short_display_name=\"Indiana\",\n  opponent_short_display_name=\"UCLA\"\n)  %>% add_row(\n  team_short_display_name=\"Texas\",\n  opponent_short_display_name=\"Purdue\"\n) %>% add_row(\n  team_short_display_name=\"San Francisco\",\n  opponent_short_display_name=\"Kentucky\"\n) \n\neastround2games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(eastround2games)\n\neastround2games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(eastround2games) \n\neastround2log <- log_fit %>% predict(new_data = eastround2games) %>%\n  bind_cols(eastround2games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\neastround2log <- log_fit %>% predict(new_data = eastround2log, type=\"prob\") %>%\n  bind_cols(eastround2log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\neastround3games <- tibble(\n  team_short_display_name=\"Baylor\",\n  opponent_short_display_name=\"UCLA\"\n) %>% add_row(\n  team_short_display_name=\"Purdue\",\n  opponent_short_display_name=\"Kentucky\"\n) \n\neastround3games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(eastround3games)\n\neastround3games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(eastround3games) \n\neastround3log <- log_fit %>% predict(new_data = eastround3games) %>%\n  bind_cols(eastround3games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\neastround3log <- log_fit %>% predict(new_data = eastround3log, type=\"prob\") %>%\n  bind_cols(eastround3log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\neastround4games <- tibble(\n  team_short_display_name=\"Baylor\",\n  opponent_short_display_name=\"Purdue\"\n) \n\neastround4games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(eastround4games)\n\neastround4games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(eastround4games) \n\neastround4log <- log_fit %>% predict(new_data = eastround4games) %>%\n  bind_cols(eastround4games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\neastround4log <- log_fit %>% predict(new_data = eastround4log, type=\"prob\") %>%\n  bind_cols(eastround4log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround1games <- tibble(\n  team_short_display_name=\"Arizona\",\n  opponent_short_display_name=\"Wright State\"\n) %>% add_row(\n  team_short_display_name=\"Seton Hall\",\n  opponent_short_display_name=\"TCU\"\n) %>% add_row(\n  team_short_display_name=\"Houston\",\n  opponent_short_display_name=\"UAB\"\n) %>% add_row(\n  team_short_display_name=\"Illinois\",\n  opponent_short_display_name=\"Chattanooga\"\n) %>% add_row(\n  team_short_display_name=\"Colorado State\",\n  opponent_short_display_name=\"Michigan\"\n) %>% add_row(\n  team_short_display_name=\"Tennessee\",\n  opponent_short_display_name=\"Longwood\"\n) %>% add_row(\n  team_short_display_name=\"Ohio State\",\n  opponent_short_display_name=\"Loyola Chicago\"\n) %>% add_row(\n  team_short_display_name=\"Villanova\",\n  opponent_short_display_name=\"Delaware\"\n)\n\nsouthround1games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(southround1games)\n\nsouthround1games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(southround1games) \n\nsouthround1log <- log_fit %>% predict(new_data = southround1games) %>%\n  bind_cols(southround1games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround1log <- log_fit %>% predict(new_data = southround1log, type=\"prob\") %>%\n  bind_cols(southround1log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround2games <- tibble(\n  team_short_display_name=\"Arizona\",\n  opponent_short_display_name=\"Seton Hall\"\n) %>% add_row(\n  team_short_display_name=\"Houston\",\n  opponent_short_display_name=\"Illinois\"\n) %>% add_row(\n  team_short_display_name=\"Michigan\",\n  opponent_short_display_name=\"Tennessee\"\n) %>% add_row(\n  team_short_display_name=\"Ohio State\",\n  opponent_short_display_name=\"Villanova\"\n)\n\nsouthround2games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(southround2games)\n\nsouthround2games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(southround2games) \n\nsouthround2log <- log_fit %>% predict(new_data = southround2games) %>%\n  bind_cols(southround2games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround2log <- log_fit %>% predict(new_data = southround2log, type=\"prob\") %>%\n  bind_cols(southround2log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround3games <- tibble(\n  team_short_display_name=\"Arizona\",\n  opponent_short_display_name=\"Illinois\"\n) %>% add_row(\n  team_short_display_name=\"Michigan\",\n  opponent_short_display_name=\"Villanova\"\n)\n\nsouthround3games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(southround3games)\n\nsouthround3games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(southround3games) \n\nsouthround3log <- log_fit %>% predict(new_data = southround3games) %>%\n  bind_cols(southround3games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround3log <- log_fit %>% predict(new_data = southround3log, type=\"prob\") %>%\n  bind_cols(southround3log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround4games <- tibble(\n  team_short_display_name=\"Michigan\",\n  opponent_short_display_name=\"Illinois\"\n) \n\nsouthround4games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(southround4games)\n\nsouthround4games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(southround4games) \n\nsouthround4log <- log_fit %>% predict(new_data = southround4games) %>%\n  bind_cols(southround4games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nsouthround4log <- log_fit %>% predict(new_data = southround4log, type=\"prob\") %>%\n  bind_cols(southround4log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround1games <- tibble(\n  team_short_display_name=\"Kansas\",\n  opponent_short_display_name=\"Texas Southern\"\n) %>% add_row(\n  team_short_display_name=\"San Diego State\",\n  opponent_short_display_name=\"Creighton\"\n) %>% add_row(\n  team_short_display_name=\"Iowa\",\n  opponent_short_display_name=\"Richmond\"\n) %>% add_row(\n  team_short_display_name=\"Providence\",\n  opponent_short_display_name=\"S Dakota St\"\n) %>% add_row(\n  team_short_display_name=\"LSU\",\n  opponent_short_display_name=\"Iowa State\"\n) %>% add_row(\n  team_short_display_name=\"Wisconsin\",\n  opponent_short_display_name=\"Colgate\"\n) %>% add_row(\n  team_short_display_name=\"USC\",\n  opponent_short_display_name=\"Miami\"\n) %>% add_row(\n  team_short_display_name=\"Auburn\",\n  opponent_short_display_name=\"J'Ville St\"\n)\n\nmidwestround1games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(midwestround1games)\n\nmidwestround1games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(midwestround1games) \n\nmidwestround1log <- log_fit %>% predict(new_data = midwestround1games) %>%\n  bind_cols(midwestround1games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround1log <- log_fit %>% predict(new_data = midwestround1log, type=\"prob\") %>%\n  bind_cols(midwestround1log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround2games <- tibble(\n  team_short_display_name=\"Kansas\",\n  opponent_short_display_name=\"Creighton\"\n) %>% add_row(\n  team_short_display_name=\"Iowa\",\n  opponent_short_display_name=\"Providence\"\n) %>% add_row(\n  team_short_display_name=\"LSU\",\n  opponent_short_display_name=\"Wisconsin\"\n) %>% add_row(\n  team_short_display_name=\"USC\",\n  opponent_short_display_name=\"Auburn\"\n) \n\nmidwestround2games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(midwestround2games)\n\nmidwestround2games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(midwestround2games) \n\nmidwestround2log <- log_fit %>% predict(new_data = midwestround2games) %>%\n  bind_cols(midwestround2games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround2log <- log_fit %>% predict(new_data = midwestround2log, type=\"prob\") %>%\n  bind_cols(midwestround2log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround3games <- tibble(\n  team_short_display_name=\"Creighton\",\n  opponent_short_display_name=\"Iowa\"\n) %>% add_row(\n  team_short_display_name=\"Wisconsin\",\n  opponent_short_display_name=\"USC\"\n)\n\nmidwestround3games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(midwestround3games)\n\nmidwestround3games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(midwestround3games) \n\nmidwestround3log <- log_fit %>% predict(new_data = midwestround3games) %>%\n  bind_cols(midwestround3games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround3log <- log_fit %>% predict(new_data = midwestround3log, type=\"prob\") %>%\n  bind_cols(midwestround3log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround4games <- tibble(\n  team_short_display_name=\"Creighton\",\n  opponent_short_display_name=\"USC\"\n)\n\nmidwestround4games <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(midwestround4games)\n\nmidwestround4games <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(midwestround4games) \n\nmidwestround4log <- log_fit %>% predict(new_data = midwestround4games) %>%\n  bind_cols(midwestround4games) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nmidwestround4log <- log_fit %>% predict(new_data = midwestround4log, type=\"prob\") %>%\n  bind_cols(midwestround4log) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nfinalfourgames <- tibble(\n  team_short_display_name=\"Gonzaga\",\n  opponent_short_display_name=\"Baylor\"\n) %>% add_row(\n  team_short_display_name=\"Illinois\",\n  opponent_short_display_name=\"USC\"  \n)\n\nfinalfourgames <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(finalfourgames)\n\nfinalfourgames <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(finalfourgames) \n\nfinalfourlog <- log_fit %>% predict(new_data = finalfourgames) %>%\n  bind_cols(finalfourgames) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nfinalfourlog <- log_fit %>% predict(new_data = finalfourlog, type=\"prob\") %>%\n  bind_cols(finalfourlog) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\nchamps <- tibble(\n  team_short_display_name=\"Baylor\",\n  opponent_short_display_name=\"Illinois\"\n) \n\nchamps <- cumulativesimplemodelgames %>% group_by(team_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% select(-TeamResult, -starts_with(\"opponent\")) %>% right_join(champs)\n\nchamps <- cumulativesimplemodelgames %>% group_by(opponent_short_display_name) %>% filter(game_date == max(game_date) & season == 2022) %>% slice(1) %>% ungroup() %>% select(-TeamResult, -starts_with(\"team\"), -game_id, -game_date, -season) %>% right_join(champs) \n\nchampslog <- log_fit %>% predict(new_data = champs) %>%\n  bind_cols(champs) %>% select(.pred_class, team_short_display_name, opponent_short_display_name, everything())\n\nchampslog <- log_fit %>% predict(new_data = champslog, type=\"prob\") %>%\n  bind_cols(champslog) %>% select(.pred_class, .pred_W, .pred_L, team_short_display_name, opponent_short_display_name, everything())\n\n\nTo make my predictors, I borrowed simple ratings and strength of schedule from Sports Reference, I calculated season long unweighted offensive and defensive efficiency margins, threw in KenPom’s luck metric and, at the last minute, decided to create a recency bias metric. What I did was compare the season-long efficiency margin of teams to the same metric from their last 10 games. If they were overplaying their season numbers, that gave them a positive measure. I was trying to capture teams who came into the tournament hot, or who were limping into the tournament based on their regular season resume but missing stars or just playing terrible.\n\n\nCode\nsummary(cumulative_recipe) %>%\n  select(variable, role) %>% \n  filter(role != \"ID\") %>%\n  gt() %>%\n  tab_header(\n    title = \"The predictors\",\n    subtitle = \"A mix of efficiencies, ratings and recency bias.\"\n  ) %>%  \n  tab_source_note(\n    source_note = md(\"**By:** Matt Waite\")\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", align = \"left\"),\n    locations = cells_title(\"title\")\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"black\", align = \"left\"),\n    locations = cells_title(\"subtitle\")\n  ) %>%\n  tab_style(\n     locations = cells_column_labels(columns = everything()),\n     style = list(\n       cell_borders(sides = \"bottom\", weight = px(3)),\n       cell_text(weight = \"bold\", size=12)\n     )\n   ) %>%\n  opt_row_striping() %>% \n  opt_table_lines(\"none\")\n\n\n\n\n\n\n  \n    \n      The predictors\n    \n    \n      A mix of efficiencies, ratings and recency bias.\n    \n  \n  \n    \n      variable\n      role\n    \n  \n  \n    opponent_efficiency_margin\npredictor\n    team_efficiency_margin\npredictor\n    team_sos\npredictor\n    team_srs\npredictor\n    opponent_sos\npredictor\n    opponent_srs\npredictor\n    opponent_luck\npredictor\n    team_luck\npredictor\n    opponent_recency\npredictor\n    team_recency\npredictor\n    TeamResult\noutcome\n  \n  \n    \n      By: Matt Waite\n    \n  \n  \n\n\n\n\nIn the run up to the tournament, I used both a logistic regression and support vector machine algorithm, but got very similar results, so I stuck with the more simple logistic regression.\nIn testing, my model was calling college basketball games correctly about 74 percent of the time, so I knew I was going to need to get lucky on a few games. But isn’t that filling out a bracket?\nResult? I did not get lucky.\nParticularly in the Midwest Regional. My models labored to produce a Creighton vs USC Elite Eight match-up that sent USC to the Final Four. While Creighton nearly upset Kansas with half a lineup, USC bombed out in the first round. The team that beat them ended up going to the Elite Eight – Miami – taking out other teams I had predicted to win along the way.\nHere’s what my model predicted in the Midwest Regional:\n\n\nCode\nmidwestround1log %>% \n  select(team_short_display_name, .pred_class, .pred_W, opponent_short_display_name) %>%\n  gt() %>% \n  cols_label(\n    team_short_display_name = \"Team\",\n    .pred_class = \"Prediction\",\n    .pred_W = \"Win Confidence\",\n    opponent_short_display_name = \"Opponent\"\n  ) %>%\n  tab_header(\n    title = \"Midwest Regional: Round 1\",\n    subtitle = \"I was sure Iowa State would lose and USC was Final Four bound.\"\n  ) %>%  \n  tab_source_note(\n    source_note = md(\"**By:** Matt Waite\")\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", align = \"left\"),\n    locations = cells_title(\"title\")\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"black\", align = \"left\"),\n    locations = cells_title(\"subtitle\")\n  ) %>%\n  tab_style(\n     locations = cells_column_labels(columns = everything()),\n     style = list(\n       cell_borders(sides = \"bottom\", weight = px(3)),\n       cell_text(weight = \"bold\", size=12)\n     )\n   ) %>%\n  opt_row_striping() %>% \n  opt_table_lines(\"none\") %>%\n    fmt_percent(\n    columns = c(.pred_W),\n    decimals = 1\n  )\n\n\n\n\n\n\n  \n    \n      Midwest Regional: Round 1\n    \n    \n      I was sure Iowa State would lose and USC was Final Four bound.\n    \n  \n  \n    \n      Team\n      Prediction\n      Win Confidence\n      Opponent\n    \n  \n  \n    Wisconsin\nW\n86.5%\nColgate\n    San Diego State\nL\n30.9%\nCreighton\n    LSU\nW\n88.0%\nIowa State\n    Auburn\nW\n89.2%\nJ'Ville St\n    USC\nW\n92.9%\nMiami\n    Iowa\nW\n82.4%\nRichmond\n    Providence\nW\n82.4%\nS Dakota St\n    Kansas\nW\n97.6%\nTexas Southern\n  \n  \n    \n      By: Matt Waite\n    \n  \n  \n\n\n\n\nNormally I could survive an Iowa State and Miami win here … except I had both of their opponents moving on fairly deep.\nRound two was a complete disaster.\n\n\nCode\nmidwestround2log %>% \n  select(team_short_display_name, .pred_class, .pred_W, opponent_short_display_name) %>%\n  gt() %>% \n  cols_label(\n    team_short_display_name = \"Team\",\n    .pred_class = \"Prediction\",\n    .pred_W = \"Win Confidence\",\n    opponent_short_display_name = \"Opponent\"\n  ) %>%\n  tab_header(\n    title = \"Midwest Regional: Round 2\",\n    subtitle = \"Not one of these predictions were correct.\"\n  ) %>%  \n  tab_source_note(\n    source_note = md(\"**By:** Matt Waite\")\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"black\", weight = \"bold\", align = \"left\"),\n    locations = cells_title(\"title\")\n  ) %>% \n  tab_style(\n    style = cell_text(color = \"black\", align = \"left\"),\n    locations = cells_title(\"subtitle\")\n  ) %>%\n  tab_style(\n     locations = cells_column_labels(columns = everything()),\n     style = list(\n       cell_borders(sides = \"bottom\", weight = px(3)),\n       cell_text(weight = \"bold\", size=12)\n     )\n   ) %>%\n  opt_row_striping() %>% \n  opt_table_lines(\"none\") %>%\n    fmt_percent(\n    columns = c(.pred_W),\n    decimals = 1\n  )\n\n\n\n\n\n\n  \n    \n      Midwest Regional: Round 2\n    \n    \n      Not one of these predictions were correct.\n    \n  \n  \n    \n      Team\n      Prediction\n      Win Confidence\n      Opponent\n    \n  \n  \n    USC\nW\n88.8%\nAuburn\n    Kansas\nL\n39.0%\nCreighton\n    Iowa\nW\n63.0%\nProvidence\n    LSU\nL\n23.3%\nWisconsin\n  \n  \n    \n      By: Matt Waite\n    \n  \n  \n\n\n\n\nMy models ended up with a Gonzaga v Baylor and Illinois v USC final four. That 0-4 on those. None of them made it. The Baylor repeat that I predicted died in the second round at the hands of North Carolina, the highest seeded team to make the Final Four.\nGoing into the Final Four, I’m in the 16th percentile of ESPN brackets, good enough for 14.6 millionth place. Last year, I was in the 38th percentile.\nThe best bracket in my class is in the 88th percentile, with another in the 86th. Only two students did worse than I did.\nWe are what they grow beyond.\nThinking about this bracket, I wanted to try rolling with something that didn’t just bite KenPom and make models out of his data. I wanted to see if I could get to a similar place without re-walking the same ground. I’ve got a year to work in this, but my energy is going to be focused on weighting competition and opponents throughout the season. If of two minds about this: As a Big Ten denizen, I have to wonder if beating up on each other for a whole season is why the Big Ten fades in the tournament. So I’m curious about a Fatigue Factor of some variety. At the same time, how does that explain St. Peter’s? Not sure it does, but I’m not sure there’s a model anywhere that’s going to.\nThe code I wrote to make this relied heavily on hoopR and tidymodels."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Digital mischief",
    "section": "",
    "text": "code\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nMar 28, 2022\n\n\nMatt Waite\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nhuskers\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nMar 20, 2022\n\n\nMatt Waite\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\nhuskers\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nMar 28, 2021\n\n\nMatt Waite\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\nMar 22, 2021\n\n\nMatt Waite\n\n\n\n\n\n\n  \n\n\n\n\n\n\n\n\n\n\ncode\n\n\nanalysis\n\n\n\n\n\n\n\n\n\n\n\n\nMar 21, 2021\n\n\nMatthew Waite\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Matt Waite is a professor of practice in the College of Journalism and Mass Communications at the University of Nebraska-Lincoln.\nSince he joined the faculty in 2011, he founded the Drone Journalism Lab, the first of its kind at a journalism school. His students have used drones to report news in six countries on three continents. He regularly speaks about the legal and ethical complexities of using drones at conferences around the world and is frequently consulted by media organizations about their potential. He also teaches courses in data journalism, web development and the intersection of storytelling and technology. He created an open learning lab for students called Maker Hours, helped develop an interdisciplinary minor in Informatics and serves on the Publications Board of the Daily Nebraskan. In 2016, he received the University of Nebraska’s Innovation, Development and Entrepreneurship Award and was inducted into the Nebraska Press Association’s Hall of Fame in October.\nFrom 2007-2011, he was a hybrid programmer/journalist for the St. Petersburg Times where he developed PolitiFact, a website that fact checks what politicians say. The site became the first website awarded the Pulitzer Prize in 2009.\nBefore becoming a web developer, he was an award-winning investigative reporter. He began his journalism career at the Arkansas Democrat-Gazette in Little Rock, covering police and breaking news, including the crash of American Airlines flight 1420 in 1999. In 2000, he moved to the St. Petersburg Times. From 2005-2007, he co-authored a series of award-winning stories about Florida’s vanishing wetlands. That work was later expanded into a book, “Paving Paradise: Florida’s Vanishing Wetlands and the Failure of No Net Loss,” published in 2009 by the University Press of Florida."
  },
  {
    "objectID": "about.html#education",
    "href": "about.html#education",
    "title": "About",
    "section": "Education",
    "text": "Education\nUniversity of Nebraska-Lincoln | Lincoln, NE Masters of Science in Business Analytics | Dec 2020\nUniversity of Nebraska-Lincoln | Lincoln, NE B.J in Journalism | Dec 1997"
  },
  {
    "objectID": "about.html#experience",
    "href": "about.html#experience",
    "title": "About",
    "section": "Experience",
    "text": "Experience\nProfessor of practice | University of Nebraska-Lincoln | August 2011 - Present\nReporter, Technologist | Tampa Bay Times, St. Petersburg, FL | March 2000 - Feb. 2011\nReporter | Arkansas Democrat Gazette, Little Rock, AR | January 1998 - Feb. 2000"
  }
]